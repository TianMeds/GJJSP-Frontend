import{r as f,j as e}from"./react-DyBbpTfo.js";import{T as xe,i as pe,G as r,B as v,a,g as me,n as ue,P as d,o as fe,p as ge,q as be,r as je,L as Se,s as ve,t as A,v as C,w as k,x as g,y as i,z,D as ye,S as B,A as D}from"./@mui-BieppYyU.js";import{L as we}from"./Layout-BTsGQOv-.js";import{t as Te}from"./theme-D40dVDi4.js";import{L as Re}from"./Scholarlink Logo (40 x 40 px)-BGz6WfLs.js";import{L as _e}from"./react-router-dom-CzVCKb4Q.js";import{a as y,u as Ae,b as n}from"./index-CLUh4Q3Z.js";import{u as Ce}from"./DashboardStore-DET_fa4r.js";import{u as ke}from"./SubmissionStore-Ceg7ZcXh.js";import{P as ze}from"./PrivacyNotice-PRl9JeOp.js";import{a as Be}from"./react-router-Cd-RU2wi.js";import"./@babel-8cBiVioP.js";import"./clsx-B-dksMZM.js";import"./@emotion-C_NMWrO_.js";import"./hoist-non-react-statics-Buxaj0Kl.js";import"./react-is-8JwjhRSi.js";import"./stylis-BqmD5Vow.js";import"./react-transition-group-es_vqKy0.js";import"./react-dom-BKrvlAQh.js";import"./scheduler-CzFDRTuY.js";import"./@react-spring-V1f4ptoc.js";import"./d3-color-9lF95FHy.js";import"./d3-shape-D9lAmgB5.js";import"./d3-path-CimkQT29.js";import"./d3-scale-CFwq3Dxo.js";import"./internmap-BkD7Hj8s.js";import"./d3-array-DJclFi1f.js";import"./d3-format-CzD4bSOQ.js";import"./d3-interpolate-lgBfS8Nc.js";import"./d3-time-format-DZUSPL1N.js";import"./d3-time-Dz5jZYzf.js";import"./@popperjs-BQBsAJpH.js";import"./LoaderAnimation-CH_DHjss.js";import"./zustand-BzSMVJrz.js";import"./use-sync-external-store-C98n5-Y-.js";import"./UserStore-CIOHG4rb.js";import"./@remix-run-B-RBrVrq.js";import"./axios-B4uVmeYG.js";function jt(){var T;const{scholarStatus:$,setScholarStatus:P,scholarStatuses:De,totalUsers:W,setTotalUsers:F,totalScholars:L,setTotalScholars:G,totalScholarshipCategories:I,setTotalScholarshipCategories:E,totalProjectPartners:O,setTotalProjectPartners:U,scholarSubmission:N,setScholarSubmission:M,term1Data:b,setTerm1Data:q,term2Data:$e,setTerm2Data:H,term3Data:Pe,setTerm3Data:Y,graduatingSubmission:J,setGraduatingSubmission:K,alumniSubmission:Q,setAlumniSubmission:V,scholarStatusCount:m,setScholarStatusCount:X}=Ce(),{getAuthToken:Z,alertOpen:ee,setAlertOpen:j,alertMessage:te,setAlertMessage:ae,errorOpen:re,errorMessage:se,setErrorOpen:l,setErrorMessage:p}=y();ke();const{auth:S}=Ae(),oe=((T=S==null?void 0:S.user)==null?void 0:T.role_id)||"",[u,ie]=f.useState(!1),w=Be(),ne=()=>{ie(!u),j(!0),ae("Refreshing Dashboard")};f.useEffect(()=>{l(!1),(async()=>{try{const s=Z(),o=await n.get("/api/total-users",{headers:{Authorization:`Bearer ${s}`}});o.status===200&&F(o.data);const h=await n.get("/api/total-scholars",{headers:{Authorization:`Bearer ${s}`}});h.status===200&&G(h.data);const c=await n.get("/api/total-scholarships",{headers:{Authorization:`Bearer ${s}`}});c.status===200&&E(c.data);const x=await n.get("/api/total-project-partners",{headers:{Authorization:`Bearer ${s}`}});x.status===200&&U(x.data)}catch(s){console.log(s)}})()},[u]),f.useEffect(()=>{l(!1),(async()=>{var s;try{const o=y.getState().getAuthToken(),h=await n.get("/api/scholar-status",{headers:{Authorization:`Bearer ${o}`}});h.status===200?P(h.data.data):(l(!0),p("Failed to fetch data"));const c=await n.get("/api/scholars",{headers:{Authorization:`Bearer ${o}`}});c.status===200&&X(c.data.data);const x=await n.get("/api/renewal-documents",{headers:{Authorization:`Bearer ${o}`}});x.status===200&&M(x.data.data);const R=await n.get("/api/graduating-documents",{headers:{Authorization:`Bearer ${o}`}});R.status===200&&K(R.data.data);const _=await n.get("/api/alumni-form",{headers:{Authorization:`Bearer ${o}`}});_.status===200&&V(_.data.data)}catch(o){((s=o.response)==null?void 0:s.status)===401&&(l(!0),p("You've been logout"),w("/login"))}})()},[u]),f.useEffect(()=>{l(!1),(async()=>{var s;try{const o=y.getState().getAuthToken(),h=await n.get("/api/renewal-documents",{headers:{Authorization:`Bearer ${o}`}});h.status===200?q(h.data.data):(l(!0),p("Failed to fetch data"));const c=await n.get("/api/graduating-documents",{headers:{Authorization:`Bearer ${o}`}});c.status===200?H(c.data.data):(l(!0),p("Failed to fetch data"));const x=await n.get("/api/alumni-form",{headers:{Authorization:`Bearer ${o}`}});x.status===200?Y(x.data.data):(l(!0),p("Failed to fetch data"))}catch(o){((s=o.response)==null?void 0:s.status)===401&&(l(!0),p("You've been logout"),w("/login"))}})()},[u]);const le=[...N,...J,...Q],de=m.filter(t=>t.scholar_status_id===5).length,he=m.filter(t=>t.scholar_status_id===2).length,ce=m.filter(t=>t.scholar_status_id===8).length;return e.jsx(we,{children:e.jsxs(xe,{theme:Te,children:[e.jsxs(pe,{maxWidth:"lg",sx:{mt:4,mb:4},children:[e.jsxs(r,{container:!0,spacing:3,children:[e.jsx(r,{item:!0,xs:6,sm:12,children:e.jsxs(v,{display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"left",md:"center"},margin:2,justifyContent:"space-between",children:[e.jsx(a,{variant:"h1",id:"tabsTitle",sx:{color:"black"},children:"Dashboard"}),e.jsxs(me,{variant:"contained",onClick:ne,sx:{backgroundColor:"#FFFFFF",color:"#091E42","&:hover":{backgroundColor:"transparent",boxShadow:"0px 2px 4px rgba(0, 0, 0, 1)"},mt:{xs:"10px",sm:"1rem",md:"0"}},children:[e.jsx(a,{variant:"h5",children:"Refresh "}),e.jsx(ue,{})]})]})}),e.jsxs(r,{container:!0,direction:"row",item:!0,xs:12,spacing:2,children:[oe===1&&e.jsx(r,{item:!0,xs:12,sm:12,md:3,mt:2,children:e.jsxs(d,{elevation:3,sx:{p:3,height:"100px",display:"flex",borderRadius:"12px"},children:[e.jsx(r,{children:e.jsx(fe,{sx:{fontSize:50,color:"#007aff"}})}),e.jsxs(r,{ml:4,mt:-1,children:[e.jsx(a,{variant:"h5",sx:{color:"#9e9e9e"},children:"Users"}),e.jsx(a,{variant:"h1",children:W.total_users})]})]})}),e.jsx(r,{item:!0,xs:12,sm:12,md:3,mt:2,children:e.jsxs(d,{elevation:3,sx:{p:3,height:"100px",display:"flex",borderRadius:"12px"},children:[e.jsx(r,{children:e.jsx(ge,{sx:{fontSize:50,color:"#007aff"}})}),e.jsxs(r,{ml:4,mt:-1,children:[e.jsx(a,{variant:"h5",sx:{color:"#9e9e9e"},children:"Scholars"}),e.jsx(a,{variant:"h1",children:L.total_scholars})]})]})}),e.jsx(r,{item:!0,xs:12,sm:12,md:3,mt:2,children:e.jsxs(d,{elevation:3,sx:{p:3,height:"100px",display:"flex",borderRadius:"12px"},children:[e.jsx(r,{children:e.jsx(be,{sx:{fontSize:50,color:"#007aff"}})}),e.jsxs(r,{ml:4,mt:-1,children:[e.jsx(a,{variant:"h5",sx:{color:"#9e9e9e"},children:"Categories"}),e.jsx(a,{variant:"h1",children:I.total_scholarship_categ})]})]})}),e.jsx(r,{item:!0,xs:12,sm:12,md:3,mt:2,children:e.jsxs(d,{elevation:3,sx:{p:3,height:"100px",display:"flex",borderRadius:"12px"},children:[e.jsx(r,{children:e.jsx(je,{sx:{fontSize:50,color:"#007aff"}})}),e.jsxs(r,{ml:4,mt:-1,children:[e.jsx(a,{variant:"h5",sx:{color:"#9e9e9e"},children:"Partners"}),e.jsx(a,{variant:"h1",children:O.total_project_partners})]})]})})]}),e.jsxs(r,{item:!0,xs:12,sm:12,md:9,children:[e.jsxs(d,{elevation:3,sx:{p:3,display:"flex",flexDirection:"row",height:"250px",justifyContent:"space-between",alignItems:"center",borderRadius:"12px"},children:[e.jsxs("div",{children:[e.jsx(a,{variant:"h2",sx:{fontWeight:"bold"},fontSize:{xs:"1rem",sm:"1rem",md:"1.75rem"},m:2,children:"Welcome, Admin to Scholarlink"}),e.jsxs(v,{sx:{display:"flex",flexDirection:"column",m:2},children:[e.jsxs(a,{variant:"h5",pb:2,children:["Check out the",e.jsx(a,{component:_e,to:"",variant:"h5",sx:{textDecoration:"none"},children:" Scholarlink User Guide "}),"for a quick tutorial"]}),e.jsxs(a,{variant:"h5",children:["Contact"," ",e.jsx(Se,{href:"mailto:cbmedallada@student.apc.edu.ph",variant:"h5",sx:{textDecoration:"none"},children:"See So Support Team"})," ","for any issues or questions"]})]})]}),e.jsx(v,{sx:{display:{xs:"none",sm:"none",md:"block"}},children:e.jsx("img",{src:Re,alt:"Your Image Alt Text",style:{width:"200px",height:"200px"}})})]}),e.jsx(r,{item:!0,xs:12,mt:2,children:e.jsxs(d,{elevation:3,sx:{p:2,display:"flex",flexDirection:"column",height:"auto",borderRadius:"12px"},children:[e.jsx(a,{variant:"h3",sx:{fontWeight:"bold",mb:2},children:"Total of Renewal Submissions"}),e.jsx("br",{}),e.jsx(ve,{series:[{data:[b.filter(t=>t.term_submitted==="Term 1").length],label:"Term 1"},{data:[b.filter(t=>t.term_submitted==="Term 2").length],label:"Term 2"},{data:[b.filter(t=>t.term_submitted==="Term 3").length],label:"Term 3"}],height:350,xAxis:[{data:["Renewal"],scaleType:"band",categoryGapRatio:.1,barGapRatio:.1}],margin:{top:10,bottom:30,left:40,right:10},yAxis:[{scaleType:"linear",label:"Number of Submissions",max:30,tickInterval:[5],tickLabelInterval:()=>1}]})]})}),e.jsx(r,{item:!0,xs:12,mt:2,children:e.jsxs(d,{elevation:3,sx:{p:2,display:"flex",flexDirection:"column",height:"auto",borderRadius:"12px"},children:[e.jsx(a,{variant:"h2",sx:{fontWeight:"bold"},mb:5,children:"Submissions"}),e.jsx(A,{children:e.jsxs(C,{sx:{minWidth:650,borderCollapse:"separate",borderSpacing:0},children:[e.jsx(k,{children:e.jsxs(g,{children:[e.jsx(i,{sx:{background:"#f5f5f5",fontWeight:"bold",fontSize:"1rem",padding:"16px",textAlign:"left",borderBottom:"none",borderRight:"none",borderTopLeftRadius:"12px"},children:"Scholar's Name"}),e.jsx(i,{sx:{background:"#f5f5f5",fontWeight:"bold",fontSize:"1rem",padding:"16px",textAlign:"left",borderBottom:"none",borderRight:"none"},children:"Type of Submission"}),e.jsx(i,{sx:{background:"#f5f5f5",fontWeight:"bold",fontSize:"1rem",padding:"16px",textAlign:"left",borderBottom:"none",borderRight:"none"},children:"Date Submitted"}),e.jsx(i,{sx:{background:"#f5f5f5",fontWeight:"bold",fontSize:"1rem",padding:"16px",textAlign:"left",borderBottom:"none",borderTopRightRadius:"12px"},children:"Status"})]})}),e.jsx(z,{children:le.slice().sort((t,s)=>new Date(s.updated_at)-new Date(t.updated_at)).slice(0,6).map((t,s)=>e.jsxs(g,{children:[e.jsx(i,{sx:{background:"#ffffff",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)",borderRadius:"12px",borderRight:"1px solid #f5f5f5",padding:"16px",fontSize:"0.875rem"},children:e.jsxs(a,{variant:"body1",children:[t.user_first_name," ",t.user_middle_name?t.user_middle_name:""," ",t.user_last_name]})}),e.jsx(i,{sx:{background:"#ffffff",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)",borderRadius:"12px",borderRight:"1px solid #f5f5f5",padding:"16px",fontSize:"0.875rem"},children:e.jsx(a,{variant:"body1",children:t.gwa_value?"Renewal Forms":t.futurePlan?"Graduating Forms":t.company_name?"Alumni Forms":"Unknown Forms"})}),e.jsx(i,{sx:{background:"#ffffff",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)",borderRadius:"12px",borderRight:"1px solid #f5f5f5",padding:"16px",fontSize:"0.875rem"},children:e.jsx(a,{variant:"body1",children:new Date(t.updated_at).toLocaleDateString()})}),e.jsx(i,{sx:{background:"#ffffff",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)",borderRadius:"12px",padding:"16px",fontSize:"0.875rem",borderTopRightRadius:"12px"},children:e.jsx(a,{variant:"body1",children:t.submission_status})})]},s))})]})})]})})]}),e.jsxs(r,{item:!0,xs:12,sm:12,md:3,children:[e.jsxs(d,{elevation:3,sx:{p:1,display:"flex",flexDirection:"column",height:"auto",alignItems:"center",borderRadius:"12px"},children:[e.jsx(a,{variant:"h4",sx:{fontWeight:"bold"},mb:2,mt:2,children:"Scholar Status Statistics"}),e.jsx(A,{children:e.jsxs(C,{style:{borderCollapse:"collapse",width:"100%",borderRadius:"8px",overflow:"hidden"},children:[e.jsx(k,{children:e.jsxs(g,{children:[e.jsx(i,{style:{padding:"12px",color:"#333",fontWeight:"500",borderBottom:"1px solid rgba(224, 224, 224, 1)"},children:"Status"}),e.jsx(i,{style:{padding:"12px",color:"#333",fontWeight:"500",borderBottom:"1px solid rgba(224, 224, 224, 1)"},children:"Count"})]})}),e.jsx(z,{children:$.map((t,s)=>e.jsxs(g,{children:[e.jsx(i,{style:{padding:"12px",color:"#333",borderBottom:"1px solid rgba(224, 224, 224, 1)"},children:t.scholar_status_name}),e.jsx(i,{style:{padding:"12px",color:"#333",borderBottom:"1px solid rgba(224, 224, 224, 1)"},children:m.filter(o=>o.scholar_status_id===t.id).length})]},s))})]})})]}),e.jsx(r,{container:!0,spacing:2,justifyContent:"center",children:e.jsx(r,{item:!0,xs:12,mt:2,children:e.jsxs(d,{elevation:3,sx:{height:"500px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:2,borderRadius:"12px"},children:[e.jsx(a,{variant:"h3",sx:{fontWeight:"bold"},children:"GJJSP Scholarships's Impact Indicator"}),e.jsx(ye,{series:[{data:[{value:de,label:"Graduating"},{value:he,label:"Scholars Renewing"},{value:ce,label:"Scholars on Withdrew"}]}],width:200,height:300,margin:{top:-50,bottom:100,left:10,right:10},slotProps:{legend:{direction:"row",position:{vertical:"bottom",horizontal:"middle"},padding:0}}})]})})})]})]}),e.jsx(B,{open:ee,autoHideDuration:5e3,onClose:()=>j(!1),anchorOrigin:{vertical:"top",horizontal:"right"},children:e.jsx(D,{onClose:()=>j(!1),variant:"filled",severity:"success",sx:{width:"100%"},children:te})}),e.jsx(B,{open:re,autoHideDuration:5e3,onClose:()=>l(!1),anchorOrigin:{vertical:"top",horizontal:"right"},children:e.jsx(D,{onClose:()=>l(!1),variant:"filled",severity:"error",sx:{width:"100%"},children:se})})]}),e.jsx(ze,{})]})})}export{jt as default};
