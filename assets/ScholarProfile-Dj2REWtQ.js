const __vite__fileDeps=["assets/ErrMsg-DQePNNaK.js","assets/react-DyBbpTfo.js","assets/@babel-8cBiVioP.js","assets/LoaderAnimation-CH_DHjss.js","assets/zustand-BzSMVJrz.js","assets/use-sync-external-store-C98n5-Y-.js","assets/@mui-BieppYyU.js","assets/clsx-B-dksMZM.js","assets/@emotion-C_NMWrO_.js","assets/hoist-non-react-statics-Buxaj0Kl.js","assets/react-is-8JwjhRSi.js","assets/stylis-BqmD5Vow.js","assets/react-transition-group-es_vqKy0.js","assets/react-dom-BKrvlAQh.js","assets/scheduler-CzFDRTuY.js","assets/@react-spring-V1f4ptoc.js","assets/d3-color-9lF95FHy.js","assets/d3-shape-D9lAmgB5.js","assets/d3-path-CimkQT29.js","assets/d3-scale-CFwq3Dxo.js","assets/internmap-BkD7Hj8s.js","assets/d3-array-DJclFi1f.js","assets/d3-format-CzD4bSOQ.js","assets/d3-interpolate-lgBfS8Nc.js","assets/d3-time-format-DZUSPL1N.js","assets/d3-time-Dz5jZYzf.js","assets/@popperjs-BQBsAJpH.js","assets/LoaderAnimation-DD__M5Fb.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{u as Wr,a as N,b as p,_ as Pa}from"./index-CLUh4Q3Z.js";import{r as y,j as e}from"./react-DyBbpTfo.js";import{G as o,a,B as l,k as u,j as C,l as k,d as m,b as _,T as Aa,c as Me,ab as Ca,L as Fa,H as Br,J as Lr,ac as Ma,ad as Ea,ae as Na,K as Hr,N as $r,g as te,I as Ir,e as Ur,f as Yr,S as zr,A as Vr}from"./@mui-BieppYyU.js";import{L as ka}from"./Layout-BTsGQOv-.js";import{u as Ga}from"./ScholarStore-XlNJjUNf.js";import{u as Or}from"./UserStore-CIOHG4rb.js";import{u as Zr}from"./LoaderAnimation-CH_DHjss.js";import{c as Jr}from"./zustand-BzSMVJrz.js";import{a as Kr}from"./react-router-Cd-RU2wi.js";import{u as Da,P as Ra}from"./ProfileHeader-HWvwdn_-.js";import{u as Ta,C as E}from"./react-hook-form-BLdPXlwC.js";import{D as qa}from"./@hookform-D0VPTTbZ.js";import{t as Ba}from"./theme-D40dVDi4.js";import"./react-dom-BKrvlAQh.js";import"./@babel-8cBiVioP.js";import"./scheduler-CzFDRTuY.js";import"./axios-B4uVmeYG.js";import"./react-router-dom-CzVCKb4Q.js";import"./@remix-run-B-RBrVrq.js";import"./use-sync-external-store-C98n5-Y-.js";import"./clsx-B-dksMZM.js";import"./@emotion-C_NMWrO_.js";import"./hoist-non-react-statics-Buxaj0Kl.js";import"./react-is-8JwjhRSi.js";import"./stylis-BqmD5Vow.js";import"./react-transition-group-es_vqKy0.js";import"./@react-spring-V1f4ptoc.js";import"./d3-color-9lF95FHy.js";import"./d3-shape-D9lAmgB5.js";import"./d3-path-CimkQT29.js";import"./d3-scale-CFwq3Dxo.js";import"./internmap-BkD7Hj8s.js";import"./d3-array-DJclFi1f.js";import"./d3-format-CzD4bSOQ.js";import"./d3-interpolate-lgBfS8Nc.js";import"./d3-time-format-DZUSPL1N.js";import"./d3-time-Dz5jZYzf.js";import"./@popperjs-BQBsAJpH.js";import"./little-state-machine-XjKmDAO7.js";import"./react-simple-animate-C3M8HUGx.js";import"./lodash-BeFwqRsT.js";import"./use-deep-compare-effect-DsItLPwu.js";import"./dequal-tFQomdd2.js";const La=Jr(d=>({scholarProfiles:[],scholarProfile:!1,setScholarProfiles:t=>d({scholarProfiles:t}),scholarFamMembers:[],scholarFamMember:!1,setScholarFamMembers:t=>d({scholarFamMembers:t}),editScholarFamMembers:!1,setEditScholarFamMembers:t=>d({editScholarFamMembers:t}),highschoolAcadDetails:[],setHighschoolAcadDetails:t=>d({highschoolAcadDetails:t}),editHighschoolAcadDetails:!1,setEditHighschoolAcadDetails:t=>d({editHighschoolAcadDetails:t}),undergradAcadDetails:[],setUndergradAcadDetails:t=>d({undergradAcadDetails:t}),editUndergradAcadDetails:!1,setEditUndergradAcadDetails:t=>d({editUndergradAcadDetails:t}),yearsInProgram:0,setYearsInProgram:t=>d({yearsInProgram:t}),handleOpenScholarProfile:()=>d({scholarProfile:!0}),handleCloseScholarProfile:()=>d({scholarProfile:!1}),scholarPhoto:null,setScholarPhoto:t=>d({scholarPhoto:t}),editScholarProfile:!1,setEditScholarProfile:t=>d({editScholarProfile:t}),selectedScholarProfile:null,setSelectedScholarProfile:t=>d({selectedScholarProfile:t}),selectedScholarFamMember:null,setSelectedScholarFamMember:t=>d({selectedScholarFamMember:t}),selectedHighschoolAcadDetail:null,setSelectedHighschoolAcadDetail:t=>d({selectedHighschoolAcadDetail:t}),selectedUndergradAcadDetail:null,setSelectedUndergradAcadDetail:t=>d({selectedUndergradAcadDetail:t})})),Xr=La,Ha=()=>{var J,ve,be,Se;const{auth:d,setAuth:t}=Wr(),{scholars:w,setScholars:ie,scholar:Ee,setScholar:Qr,scholarsData:h,setScholarsData:oe,scholarshipCateg:Y,setScholarshipCateg:i,projectPartner:ue,setProjectPartner:Q,school:ne,setSchool:Ne}=Ga(),{selectedUser:B}=Or(),{setLoading:ee,setLoadingMessage:ke}=Zr(),{getAuthToken:ea,alertOpen:ra,setAlertOpen:I,alertMessage:xe,setAlertMessage:L,errorOpen:de,setErrorOpen:F,errorMessage:Ge,setErrorMessage:G}=N(),{scholarFamMembers:$,setScholarFamMembers:pe,yearsInProgram:ge,setYearsInProgram:le,highschoolAcadDetails:Z,setHighschoolAcadDetails:De,undergradAcadDetails:je,setUndergradAcadDetails:fe}=Xr(),j=Kr();y.useEffect(()=>{(async()=>{try{const x=N.getState().getAuthToken(),g=await p.get("/api/profile",{headers:{Authorization:`Bearer ${x}`}});g.status===200?ie(g.data.data):(G("Something went wrong"),F(!0))}catch{G("Something went wrong"),F(!0)}})()},[]),y.useEffect(()=>{(async()=>{ee(!0),ke("Loading Scholar Data");try{const x=N.getState().getAuthToken(),g=await p.get(`/api/scholarsProfile?userId=${B.id}`,{headers:{Authorization:`Bearer ${x}`}});g.status===200?oe(g.data.data):g.status===404?(oe([]),console.log("Hello")):(G("Something went wrong"),F(!0)),ee(!1)}catch(x){x.response.status===401?(G("Session Expired"),F(!0),N.getState().resetAuthToken(),t(null),j("/login")):x.response.status===404?oe([]):(G("Something went wrong"),F(!0)),ee(!1)}})()},[]),y.useEffect(()=>{(async()=>{var x;try{const g=N.getState().getAuthToken(),A=await p.get(`/api/scholarFam?userId=${B.id}`,{headers:{Authorization:`Bearer ${g}`}});A.status===200?(pe(A.data.data),I(!0),L("Users list has been updated")):(F(!0),L("Failed to fetch data"))}catch(g){((x=g.response)==null?void 0:x.status)===401&&(F(!0),G("You've been logout"),j("/login"))}})()},[]),y.useEffect(()=>{(async()=>{var x;try{const g=N.getState().getAuthToken(),A=await p.get(`/api/highschool-acad-detail?userId=${B.id}`,{headers:{Authorization:`Bearer ${g}`}});A.status===200?(De(A.data.data),I(!0),L("Users list has been updated")):(F(!0),G("Failed to fetch data"))}catch(g){((x=g.response)==null?void 0:x.status)===401&&j("/login")}})()},[]),y.useEffect(()=>{(async()=>{var x;try{const g=N.getState().getAuthToken(),A=await p.get(`/api/undergrad-acad-detail?userId=${B.id}`,{headers:{Authorization:`Bearer ${g}`}});A.status===200?(fe(A.data.data),I(!0),L("Users list has been updated")):(F(!0),G("Failed to fetch data"))}catch(g){((x=g.response)==null?void 0:x.status)===401&&j("/login")}})()},[]),y.useEffect(()=>{(()=>{const x=new Date().getFullYear(),g=parseInt(h.school_yr_started);if(isNaN(g))le(0);else{const A=x-g;le(A)}})()},[h]),y.useEffect(()=>{I(!0),F(!1),L("Please wait updating scholar list"),(async()=>{try{const x=N.getState().getAuthToken(),g=await p.get("/api/scholarships",{headers:{Authorization:`Bearer ${x}`}});g.status===200?(i(g.data.data),I(!1),L("Updated Scholarship Category")):(F(!0),G("Error updating scholarship category"));const A=await p.get("/api/project-partners",{headers:{Authorization:`Bearer ${x}`}});A.status===200?(Q(A.data.data),I(!1),L("Updated Project Partner")):(F(!0),G("Error updating project partner"));const ye=await p.get("/api/schools",{headers:{Authorization:`Bearer ${x}`}});ye.status===200?(Ne(ye.data.data),I(!1),L("Updated School")):(F(!0),G("Error updating school"))}catch(x){(x.response.status===401||x.projectPartnerResponse.status===401||x.schoolResponse.status===401)&&(F(!0),G("Session expired. Please login again."),j("/login"))}})()},[]);const _e={1:"New",2:"For Renewal",3:"For Renewal: Graduating",4:"Renewed",5:"Graduating",6:"Graduated",7:"Alumni",8:"Withdrew"};return e.jsxs(o,{container:!0,spacing:2,sx:{mt:5},children:[e.jsxs(o,{item:!0,xs:12,mb:2,children:[e.jsx(a,{variant:"h3",sx:{marginBottom:5},children:"Scholar Overview"}),e.jsxs(l,{sx:{display:"flex",height:"auto",border:"2px solid rgba(0,0,0,0.2)",boxShadow:"11px 7px 15px -3px rgba(0,0,0,0.1)",padding:"20px",borderRadius:"5px",flexDirection:{xs:"column",lg:"row"}},children:[e.jsxs(o,{mr:3,children:[e.jsx(a,{variant:"h5",fontWeight:"bold",children:"Name"}),e.jsx(a,{sx:{mt:2,width:"100%",mb:2},children:B.first_name+" "+B.last_name})]}),e.jsxs(o,{mr:3,children:[e.jsx(a,{variant:"h5",fontWeight:"bold",children:"Started"}),h.school_yr_started&&e.jsx(a,{sx:{mt:2},children:`S.Y ${h.school_yr_started} - ${parseInt(h.school_yr_started)+1}`})]}),e.jsxs(o,{mr:3,children:[e.jsx(a,{variant:"h5",fontWeight:"bold",children:"Graduated"}),h.school_yr_graduated&&e.jsx(a,{sx:{mt:2},children:`S.Y ${h.school_yr_graduated} - ${parseInt(h.school_yr_graduated)+1}`})]}),e.jsxs(o,{mr:3,children:[e.jsx(a,{variant:"h5",children:"Status"}),e.jsx(a,{variant:"h5",mt:2,children:_e[h.scholar_status_id]||"Unknown"})]}),e.jsxs(o,{mr:3,children:[e.jsx(a,{variant:"h5",fontWeight:"bold",children:"GWA"}),e.jsx(a,{sx:{mt:2,width:"100%"},children:je.gwa_current_school_yr})]}),e.jsxs(o,{mr:3,children:[e.jsx(a,{variant:"h5",fontWeight:"bold",children:"Year Level"}),e.jsx(a,{sx:{mt:2,width:"100%"},children:je.current_yr_level})]}),e.jsxs(o,{mr:3,children:[e.jsx(a,{variant:"h5",fontWeight:"bold",children:"Years as Scholar"}),e.jsx(a,{sx:{mt:2,width:"100%"},children:ge})]})]})]}),e.jsxs(o,{item:!0,xs:12,md:6,mb:2,children:[e.jsx(a,{variant:"h3",sx:{marginBottom:5},children:"Undergraduate academic details"}),e.jsxs(l,{sx:{height:"auto",border:"2px solid rgba(0,0,0,0.2)",boxShadow:"11px 7px 15px -3px rgba(0,0,0,0.1)",padding:"20px",borderRadius:"5px"},children:[e.jsxs(l,{children:[e.jsx(a,{variant:"h5",children:"Scholarship Type"}),e.jsx(a,{sx:{textTransform:"uppercase",mt:2},children:((J=Y.find(S=>S.id===h.scholarship_categ_id))==null?void 0:J.scholarship_categ_name)||"Unknown Category"})]}),e.jsxs(l,{sx:{mt:3},children:[e.jsx(a,{variant:"h5",children:"Project Partner"}),e.jsx(a,{sx:{mt:2},children:(ve=ue.find(S=>S.id===h.project_partner_id))==null?void 0:ve.project_partner_name})]}),e.jsxs(l,{sx:{mt:3},children:[e.jsx(a,{variant:"h5",children:"School"}),e.jsx(a,{sx:{mt:2},children:(be=ne.find(S=>S.id===h.school_id))==null?void 0:be.school_name})]}),e.jsxs(l,{sx:{mt:3},children:[e.jsx(a,{variant:"h5",children:"School Address"}),e.jsx(a,{sx:{mt:2},children:(Se=ne.find(S=>S.id===h.school_id))==null?void 0:Se.school_address})]}),e.jsxs(l,{sx:{mt:3},children:[e.jsx(a,{variant:"h5",children:"Program"}),e.jsx(a,{sx:{mt:2},children:h.program})]})]})]}),e.jsxs(o,{item:!0,xs:12,md:6,children:[e.jsx(a,{variant:"h3",sx:{marginBottom:5},children:"High school academic details"}),e.jsxs(l,{sx:{height:"auto",border:"2px solid rgba(0,0,0,0.2)",boxShadow:"11px 7px 15px -3px rgba(0,0,0,0.1)",padding:"20px",borderRadius:"5px"},children:[e.jsxs(l,{children:[e.jsx(a,{variant:"h5",children:"School"}),e.jsx(a,{sx:{textTransform:"uppercase",mt:2},children:Z.school_name})]}),e.jsxs(l,{sx:{mt:3},children:[e.jsx(a,{variant:"h5",children:"School Address"}),e.jsx(a,{sx:{mt:2},children:Z.school_address})]}),e.jsxs(l,{sx:{mt:3},children:[e.jsx(a,{variant:"h5",children:"Track"}),e.jsx(a,{sx:{mt:2},children:Z.track_name})]}),e.jsxs(l,{sx:{mt:3},children:[e.jsx(a,{variant:"h5",children:"Strand"}),e.jsx(a,{sx:{mt:2},children:Z.strand_name})]}),e.jsxs(l,{sx:{mt:3},children:[e.jsx(a,{variant:"h5",children:"Graduated"}),e.jsx(a,{sx:{mt:2},children:Z.school_yr_graduated_hs})]})]})]}),e.jsxs(o,{item:!0,xs:12,md:6,children:[e.jsx(a,{variant:"h3",sx:{marginBottom:5},children:"Personal"}),e.jsxs(l,{sx:{height:"auto",border:"2px solid rgba(0,0,0,0.2)",boxShadow:"11px 7px 15px -3px rgba(0,0,0,0.1)",padding:"20px",borderRadius:"5px"},children:[e.jsxs(l,{children:[e.jsx(a,{variant:"h5",children:"Last Name"}),e.jsx(a,{sx:{mt:2},children:B.last_name})]}),e.jsxs(l,{sx:{mt:3},children:[e.jsx(a,{variant:"h5",children:"FirstName"}),e.jsx(a,{sx:{mt:2},children:B.first_name})]}),e.jsxs(l,{sx:{mt:3},children:[e.jsx(a,{variant:"h5",children:"MiddleName"}),e.jsx(a,{sx:{mt:2},children:B.middle_name})]}),e.jsxs(l,{sx:{mt:3},children:[e.jsx(a,{variant:"h5",children:"Gender"}),e.jsx(a,{sx:{mt:2},children:h.gender})]}),e.jsxs(l,{sx:{mt:3},children:[e.jsx(a,{variant:"h5",children:"Religion"}),e.jsx(a,{sx:{mt:2},children:h.religion})]}),e.jsxs(l,{sx:{mt:3},children:[e.jsx(a,{variant:"h5",children:"Birth Date"}),e.jsx(a,{sx:{mt:2},children:h.birthdate})]}),e.jsxs(l,{sx:{mt:3},children:[e.jsx(a,{variant:"h5",children:"Place of Birth"}),e.jsx(a,{sx:{mt:2},children:h.birthplace})]}),e.jsxs(l,{sx:{mt:3},children:[e.jsx(a,{variant:"h5",children:"Civil Status"}),e.jsx(a,{sx:{mt:2},children:h.civil_status})]})]})]}),e.jsxs(o,{item:!0,md:6,children:[e.jsx(a,{variant:"h3",sx:{marginBottom:5},children:"Contact"}),e.jsxs(l,{sx:{height:"auto",border:"2px solid rgba(0,0,0,0.2)",boxShadow:"11px 7px 15px -3px rgba(0,0,0,0.1)",padding:"20px",borderRadius:"5px"},children:[e.jsxs(l,{children:[e.jsx(a,{variant:"h5",children:"Facebook"}),e.jsx(a,{sx:{mt:2},children:h.fb_account})]}),e.jsxs(l,{sx:{mt:3},children:[e.jsx(a,{variant:"h5",children:"Email Address"}),e.jsx(a,{sx:{mt:2},children:B.email_address})]}),e.jsxs(l,{sx:{mt:3},children:[e.jsx(a,{variant:"h5",children:"Mobile Number"}),e.jsx(a,{sx:{mt:2},children:B.user_mobile_num})]})]}),e.jsxs(o,{item:!0,md:12,children:[e.jsx(a,{variant:"h3",sx:{mb:2,mt:2},children:"Home Address"}),e.jsxs(l,{sx:{height:"auto",border:"2px solid rgba(0,0,0,0.2)",boxShadow:"11px 7px 15px -3px rgba(0,0,0,0.1)",padding:"20px",borderRadius:"5px"},children:[e.jsxs(l,{children:[e.jsx(a,{variant:"h5",children:"Present Address"}),e.jsxs(a,{sx:{textTransform:"uppercase",mt:2},children:[h.street,"  ",h.barangay_name," ",h.cities_municipalities_name]})]}),e.jsxs(l,{sx:{mt:3},children:[e.jsx(a,{variant:"h5",children:"Region"}),e.jsx(a,{sx:{mt:2},children:h.region_name})]}),e.jsxs(l,{sx:{mt:3},children:[e.jsx(a,{variant:"h5",children:"Province"}),e.jsx(a,{sx:{mt:2},children:h.province_name})]}),e.jsxs(l,{sx:{mt:3},children:[e.jsx(a,{variant:"h5",children:"Zip Code"}),e.jsx(a,{sx:{mt:2},children:h.zip_code})]})]})]})]}),e.jsxs(o,{item:!0,xs:12,md:12,mt:2,children:[e.jsx(a,{variant:"h3",sx:{marginBottom:5},children:"Family"}),e.jsx(l,{sx:{display:"flex",flexDirection:"column",height:"auto",border:"2px solid rgba(0,0,0,0.2)",boxShadow:"11px 7px 15px -3px rgba(0,0,0,0.1)",padding:"20px",borderRadius:"5px"},children:e.jsxs(o,{container:!0,spacing:3,children:[e.jsxs(o,{item:!0,xs:6,children:[e.jsxs(l,{mt:2,mb:2,children:[e.jsx(a,{variant:"h5",children:"Mother's Name"}),e.jsx(a,{sx:{mt:2,mb:2},children:$.mother_name})]}),e.jsxs(l,{mt:2,mb:2,children:[e.jsx(a,{variant:"h5",children:"Father's Name"}),e.jsx(a,{sx:{mt:2,mb:2},children:$.father_name})]}),e.jsxs(l,{mt:2,mb:2,children:[e.jsx(a,{variant:"h5",children:"Guardian's Name"}),e.jsx(a,{sx:{mt:2,mb:2},children:$.fam_mem_name}),e.jsx(a,{variant:"h5",children:"Guardian's Occupation"}),e.jsx(a,{sx:{mt:2,mb:2},children:$.occupation})]})]}),e.jsxs(o,{item:!0,xs:6,children:[e.jsxs(l,{mt:2,mb:2,children:[e.jsx(a,{variant:"h5",children:"Guardian's Contact Number"}),e.jsx(a,{sx:{mt:2,mb:2},children:$.fam_mem_mobile_num})]}),e.jsxs(l,{mt:2,mb:2,children:[e.jsx(a,{variant:"h5",children:"Number of Family Members"}),e.jsx(a,{sx:{mt:2,mb:2},children:h.num_fam_mem})]}),e.jsxs(l,{mt:2,mb:2,children:[e.jsx(a,{variant:"h5",children:"Monthly Income"}),e.jsx(a,{sx:{mt:2,mb:2},children:$.income})]})]})]})})]})]})},$a=Jr(d=>({regions:[],setRegions:t=>d({regions:t}),selectedRegion:"",setSelectedRegion:t=>d({selectedRegion:t}),regionsCode:[],setRegionsCode:t=>d({regionsCode:t}),selectedRegionCode:"",setSelectedRegionCode:t=>d({selectedRegionCode:t}),provinces:[],setProvinces:t=>d({provinces:t}),selectedProvince:"",setSelectedProvince:t=>d({selectedProvince:t}),provincesName:[],setProvincesName:t=>d({provincesName:t}),selectedProvinceCode:"",setSelectedProvinceCode:t=>d({selectedProvinceCode:t}),cities:[],setCities:t=>d({cities:t}),selectedCity:"",setSelectedCity:t=>d({selectedCity:t}),citiesName:[],setCitiesName:t=>d({citiesName:t}),selectedCityCode:"",setSelectedCityCode:t=>d({selectedCityCode:t}),barangays:[],setBarangays:t=>d({barangays:t}),selectedBarangay:"",setSelectedBarangay:t=>d({selectedBarangay:t}),barangaysName:[],setBarangaysName:t=>d({barangaysName:t})})),Ia=$a,Ua=y.lazy(()=>Pa(()=>import("./ErrMsg-DQePNNaK.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27])));function $s(){var Ke,Xe,Qe,er,rr,ar,sr,tr,ir,or,nr,dr,lr,cr,hr,mr,ur,xr,pr,gr,jr,fr,_r,vr,br,Sr,yr,wr,Pr,Ar,Cr,Fr,Mr,Er,Nr,kr,Gr,Dr;const d=Ta(),{register:t,control:w,handleSubmit:ie,formState:Ee,reset:Qr,watch:h,validate:oe,setValue:Y}=d,{errors:i}=Ee,ue=h("password"),{auth:Q}=Wr(),ne=/^(https?:\/\/)?(www\.)?facebook\.com\/@?[A-Za-z0-9_.-]+$/i,{profile:Ne,setProfiles:B,handleOpenProfile:ee,handleCloseProfile:ke,editProfile:ea,setEditProfile:ra,setSelectedProfile:I,changePassword:xe,handleOpenChangePassword:L,handleCloseChangePassword:de,editPassword:F,setEditPassword:Ge,setSelectedPassword:G,goBack:$,setGoBack:pe}=Da(),{regions:ge,setRegions:le,selectedRegion:Z,setSelectedRegion:De,setRegionsName:je,setSelectedRegionCode:fe,selectedRegionCode:j,provinces:_e,setProvinces:J,selectedProvince:ve,setSelectedProvince:be,setProvincesName:Se,selectedProvinceCode:S,setSelectedProvinceCode:x,cities:g,setCities:A,selectedCity:ye,setSelectedCity:Ya,setCitiesName:za,setBarangaysName:Va,selectedCityCode:ce,setSelectedCityCode:aa,barangays:sa,setBarangays:Re,selectedBarangay:ta,setSelectedBarangay:Wa}=Ia(),{getAuthToken:Te,alertOpen:ia,alertMessage:oa,setAlertOpen:P,setAlertMessage:v,errorOpen:na,setErrorOpen:b,setErrorMessage:D,errorMessage:da}=N(),{selectedUser:H,setSelectedUser:Oa}=Or(),{editScholarProfile:la,setEditScholarProfile:qe,selectedScholarProfile:Be,setSelectedScholarProfile:Le,handleCloseScholarProfile:K,handleOpenScholarProfile:He,scholarProfiles:M,scholarProfile:ca,setScholarProfiles:we,scholarFamMembers:z,setScholarFamMembers:Pe,selectedScholarFamMember:$e,setSelectedScholarFamMember:Ie,editScholarFamMembers:ha,setEditScholarFamMembers:Ue,highschoolAcadDetails:X,setHighschoolAcadDetails:Ae,undergradAcadDetails:Za,setUndergradAcadDetails:Ce,selectedHighschoolAcadDetail:ma,setSelectedHighschoolAcadDetail:Ye,selectedUndergradAcadDetail:ua,setSelectedUndergradAcadDetail:ze,editHighschoolAcadDetails:xa,setEditHighschoolAcadDetails:Ve,editUndergradAcadDetails:pa,setEditUndergradAcadDetails:We,scholarPhoto:Ja,setScholarPhoto:Ka}=Xr(),{showPassword:he,handleTogglePassword:Oe,setLoading:R,setLoadingMessage:V}=Zr();(Ke=Q==null?void 0:Q.user)!=null&&Ke.role_id;const W=Kr(),[U,Ze]=y.useState(0),ga=U,ja=1,fa=()=>{Ze(r=>r+1)},_a=()=>{Ze(r=>r-1)},Je={gender:"",religion:"",birthdate:"",birthplace:"",civil_status:"",num_fam_mem:"",school_yr_started:"",school_yr_graduated:"",school_id:"",program:"",acad_terms:"",home_visit_sched:"",fb_account:"",region_name:"",province:"",cities_municipalities_name:"",barangay_name:"",street:"",zip_code:"",father_name:"",mother_name:"",relation_to_scholar:"",fam_mem_name:"",occupation:"",income:"",fam_mem_mobile_num:""},va=r=>new Date(r).toISOString().split("T")[0],ba=async(r,s)=>{var ae,f;s.preventDefault();const n=N.getState().getAuthToken(),c={headers:{"Content-type":"application/json",Authorization:`Bearer ${n}`}},T={gender:r.gender,religion:r.religion,birthdate:va(r.birthdate),birthplace:r.birthplace,civil_status:r.civil_status,num_fam_mem:r.num_fam_mem,school_yr_started:r.school_yr_started,school_yr_graduated:r.school_yr_graduated,school_id:r.school_id,program:r.program,home_visit_sched:r.home_visit_sched,fb_account:r.fb_account,region_name:r.region_name,province_name:r.province_name,cities_municipalities_name:r.cities_municipalities_name,barangay_name:r.barangay_name,street:r.street,zip_code:r.zip_code},q={father_name:r.father_name,mother_name:r.mother_name,relation_to_scholar:r.relation_to_scholar,fam_mem_name:r.fam_mem_name,occupation:r.occupation,income:r.income,fam_mem_mobile_num:r.fam_mem_mobile_num},me={track_name:r.track_name,strand_name:r.strand_name,gwa_school_yr_graduated:r.gwa_school_yr_graduated,school_name:r.school_name,school_address:r.school_address,school_yr_graduated_hs:r.school_yr_graduated_hs},O={undergrad_sy:r.undergrad_sy,current_yr_level:r.current_yr_level,gwa_current_school_yr:r.gwa_current_school_yr};try{if(la){R(!0),V("Updating personal information...");const Fe=await p.put(`/api/scholarsProfile/${Be.id}`,T,c);console.log(Be.id),qe(!1),K(),P(!0),v("Profile Updated")}const se=await p.get("/api/scholarsProfile",{headers:{Authorization:`Bearer ${n}`}});if(se.status===200?(we(se.data.data),P(!0),v("Profiled has been updated")):(b(!0),v("Failed to fetch data")),ha){R(!0),V("Updating family member data...");const Fe=await p.put(`/api/scholarFam/${$e.id}`,q,c);console.log($e.id),Ue(!1),K(),P(!0),v("Family Member Updated")}const Rr=await p.get("/api/scholarFam",{headers:{Authorization:`Bearer ${n}`}});if(Rr.status===200?(Pe(Rr.data.data),P(!0),v("Family data has been updated")):(b(!0),D("Failed to fetch data")),xa){R(!0),V("Updating high school data...");const Fe=await p.put(`/api/highschool-acad-detail/${ma.id}`,me,c);Ve(!1),K(),P(!0),v("High School Data Updated")}const Tr=await p.get("/api/highschool-acad-detail",{headers:{Authorization:`Bearer ${n}`}});if(Tr.status===200?(Ae(Tr.data.data),P(!0),v("High School data has been updated")):(b(!0),D("Failed to fetch data")),pa){R(!0),V("Updating Undergrad data...");const Fe=await p.put(`/api/undergrad-acad-detail/${ua.id}`,O,c);We(!1),K(),P(!0),v("Undergraduate Data Updated"),R(!1)}const qr=await p.get("/api/undergrad-acad-detail",{headers:{Authorization:`Bearer ${n}`}});qr.status===200?(Ce(qr.data.data),P(!0),v("Undergraduate data has been updated")):(b(!0),D("Failed to fetch data")),d.reset(Je)}catch(se){((ae=se.response)==null?void 0:ae.status)===401?(b(!0),D("You've been logged out"),W("/login")):((f=se.response)==null?void 0:f.status)===500&&(b(!0),D("Complete all fields"),R(!1)),R(!1)}},Sa=async(r,s)=>{var T;s.preventDefault();const c={headers:{"Content-type":"application/json",Authorization:`Bearer ${N.getState().getAuthToken()}`}};try{R(!0),V("Updating password..."),(await p.put(`/api/profile/${H.id}`,{password:r.password},c)).status===200?(P(!0),v("Password Updated")):(b(!0),D("Failed to update password")),de(),R(!1)}catch(q){((T=q.response)==null?void 0:T.status)===401&&(b(!0),D("You've been logout"),W("/login"))}};y.useEffect(()=>{(async s=>{var n;try{const c=N.getState().getAuthToken(),T=s.id,q=await p.get(`/api/scholarsProfile?userId=${s.id}`,{headers:{Authorization:`Bearer ${c}`}});q.status===200?(we(q.data.data),P(!0),v("Users list has been updated")):(b(!0),v("Failed to fetch data")),d.reset(Je)}catch(c){((n=c.response)==null?void 0:n.status)===401&&(b(!0),D("You've been logout"),W("/login"))}})(H)},[H]),y.useEffect(()=>{(async()=>{var s;try{const n=N.getState().getAuthToken(),c=await p.get(`/api/scholarFam?userId=${H.id}`,{headers:{Authorization:`Bearer ${n}`}});c.status===200?(Pe(c.data.data),P(!0),v("Users list has been updated")):(b(!0),v("Failed to fetch data"))}catch(n){((s=n.response)==null?void 0:s.status)===401&&(b(!0),D("You've been logout"),W("/login"))}})()},[]),y.useEffect(()=>{(async()=>{var s;try{const n=N.getState().getAuthToken(),c=await p.get(`/api/highschool-acad-detail?userId=${H.id}`,{headers:{Authorization:`Bearer ${n}`}});c.status===200?(Ae(c.data.data),P(!0),v("Users list has been updated")):(b(!0),D("Failed to fetch data"))}catch(n){((s=n.response)==null?void 0:s.status)===401&&W("/login")}})()},[]),y.useEffect(()=>{(async()=>{var s;try{const n=N.getState().getAuthToken(),c=await p.get(`/api/undergrad-acad-detail?userId=${H.id}`,{headers:{Authorization:`Bearer ${n}`}});c.status===200?(Ce(c.data.data),P(!0),v("Users list has been updated")):(b(!0),D("Failed to fetch data"))}catch(n){((s=n.response)==null?void 0:s.status)===401&&W("/login")}})()},[]),y.useEffect(()=>{(async()=>{try{const[s,n]=await Promise.all([fetch("https://psgc.gitlab.io/api/regions"),j?fetch(`https://psgc.gitlab.io/api/regions/${j}/provinces`):null]);if(!s.status===200)throw new Error("Failed to fetch regions");const c=await s.json();if(le(c),n&&!n.status===200)throw new Error("Failed to fetch provinces");const T=n?await n.json():[];J(T)}catch(s){console.error("Error fetching data:",s)}})()},[j]),y.useEffect(()=>{(async()=>{try{if(J([]),j&&j!=="130000000"){const s=`https://psgc.gitlab.io/api/regions/${j}/provinces`,n=await fetch(s);if(!n.ok)throw new Error("Failed to fetch provinces");const c=await n.json();J(c)}}catch(s){console.error("Error fetching provinces:",s)}})()},[S,j]),y.useEffect(()=>{(async()=>{try{if(A([]),S){let s="";j==="130000000"?s=`https://psgc.gitlab.io/api/regions/${j}/cities-municipalities/`:s=`https://psgc.gitlab.io/api/provinces/${S}/cities-municipalities/`;const n=await fetch(s);if(!n.ok)throw new Error("Failed to fetch cities");const c=await n.json();A(c)}else if(j==="130000000"){const s=`https://psgc.gitlab.io/api/regions/${j}/cities-municipalities/`,n=await fetch(s);if(!n.ok)throw new Error("Failed to fetch cities");const c=await n.json();A(c)}}catch(s){console.error("Error fetching cities:",s)}})()},[S,j,ce]),y.useEffect(()=>{(async()=>{try{if(Re([]),ce){const s=`https://psgc.gitlab.io/api/cities-municipalities/${ce}/barangays/`,n=await fetch(s);if(!n.ok)throw new Error("Failed to fetch barangays");const c=await n.json();Re(c)}}catch(s){console.error("Error fetching barangays:",s)}})()},[ce,ta]);const ya=async()=>{R(!0),V("Please wait opening edit profile"),qe(!0),Ue(!0),Ve(!0),We(!0);try{const r=N.getState().getAuthToken(),s=await p.get(`/api/scholarsProfile?userId=${H.id}`,{headers:{Authorization:`Bearer ${r}`},validateStatus:function(f){return f===404||f>=200&&f<300}}),n=s.data.data;if(s.status===404||!n||n.length===0)Le({gender:"",religion:"",birthdate:"",birthplace:"",civil_status:"",num_fam_mem:"",school_yr_started:"",school_yr_graduated:"",school_id:"",program:"",acad_terms:"",home_visit_sched:"",fb_account:""}),d.reset();else{const f={...s.data.data,password:void 0};Le(f),we(f),d.reset(f)}const c=await p.get(`/api/scholarFam?userId=${H.id}`,{headers:{Authorization:`Bearer ${r}`},validateStatus:function(f){return f===404||f>=200&&f<300}}),T=c.data.data;(c.status===404||!T||T.length===0)&&(Ie({father_name:"",mother_name:"",relation_to_scholar:"",fam_mem_name:"",occupation:"",income:"",fam_mem_mobile_num:""}),d.reset()),c.status===200?(Ie(c.data.data),Pe(c.data.data),P(!0),v("Family Members data has been updated")):(b(!0),v("Failed to fetch data"));const q=await p.get(`/api/highschool-acad-detail?userId=${H.id}`,{headers:{Authorization:`Bearer ${r}`},validateStatus:function(f){return f===404||f>=200&&f<300}}),me=q.data.data;(q.status===404||!me||me.length===0)&&(Ye({track_name:"",strand_name:"",gwa_school_yr_graduated:"",school_name:"",school_address:"",school_yr_graduated_hs:""}),d.reset()),q.status===200?(Ye(q.data.data),Ae(q.data.data),P(!0),v("High School Data has been updated")):(b(!0),D("Failed to fetch data"));const O=await p.get(`/api/undergrad-acad-detail?userId=${H.id}`,{headers:{Authorization:`Bearer ${r}`},validateStatus:function(f){return f===404||f>=200&&f<300}}),ae=O.data.data;(O.status===404||!ae||ae.length===0)&&(ze({undergrad_sy:"",current_yr_level:"",gwa_current_school_yr:""}),He(),d.reset()),O.status===200?(ze(O.data.data),Ce(O.data.data),P(!0),v("Undergrad Data has been updated")):(b(!0),D("Failed to fetch data")),He(),R(!1)}catch(r){console.error("Error fetching scholar data:",r),R(!1)}},wa=async()=>{R(!0),V("Please wait opening change password"),Ge(!0);try{const r=Te(),n={...(await p.get("/api/profile",{headers:{Authorization:`Bearer ${r}`}})).data.data,password:void 0};G(n),L(),d.reset(n),R(!1)}catch(r){console.error("Error fetching user data:",r)}};y.useEffect(()=>{(async()=>{try{const s=Te(),n=await p.get("/api/profile",{headers:{Authorization:`Bearer ${s}`}});pe(n.data.data),console.log(n.data.data)}catch{b(!0),D("Failed to fetch data")}})()},[]);const re=[{title:"Personal Information",label:"Personal Information",content:e.jsx("div",{children:e.jsxs(o,{container:!0,spacing:2,children:[e.jsxs(o,{item:!0,xs:4,children:[e.jsxs(o,{id:"genderGrid",children:[e.jsx(u,{htmlFor:"gender",id:"genderLabel",children:"Gender"}),e.jsx(C,{sx:{width:"100%",borderRadius:"8px"},children:e.jsxs(k,{id:"gender",native:!0,...t("gender",{required:!0}),children:[e.jsx("option",{value:"",disabled:!0,children:"Select Gender"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"}),e.jsx("option",{value:"Other",children:"Other"})]})}),i.gender&&e.jsxs("p",{id:"errMsg",children:[e.jsx(m,{className:"infoErr"}),(Xe=i.gender)==null?void 0:Xe.message]})]}),e.jsxs(o,{id:"religionGrid",children:[e.jsx(u,{htmlFor:"religion",id:"religionLabel",children:"Religion"}),e.jsx(E,{name:"religion",control:w,defaultValue:M.religion||"",rules:{required:"Religion is required",validate:r=>r!==""||"Please select a religion"},render:({field:r})=>e.jsx(C,{sx:{width:"100%",borderRadius:"8px"},children:e.jsxs(k,{id:"religion",native:!0,...r,value:r.value||"",children:[e.jsx("option",{value:"",disabled:!0,children:"Select Religion"}),e.jsx("option",{value:"Roman Catholic",children:"Roman Catholic"}),e.jsx("option",{value:"Islam",children:"Islam"}),e.jsx("option",{value:"Iglesia ni Cristo",children:"Iglesia ni Cristo"}),e.jsx("option",{value:"Protestant",children:"Protestant"}),e.jsx("option",{value:"Buddhism",children:"Buddhism"}),e.jsx("option",{value:"Seventh-day Adventist",children:"Seventh-day Adventist"}),e.jsx("option",{value:"Jehovah's Witness",children:"Jehovah's Witness"}),e.jsx("option",{value:"Christianity",children:"Christianity"}),e.jsx("option",{value:"Other",children:"Other"})]})})}),i.religion&&e.jsxs("p",{id:"errMsg",children:[e.jsx(m,{className:"infoErr"}),(Qe=i.religion)==null?void 0:Qe.message]}),i.religion&&e.jsxs("p",{id:"errMsg",children:[e.jsx(m,{className:"infoErr"}),(er=i.religion)==null?void 0:er.message]})]}),e.jsxs(o,{id:"birthdateGrid",children:[e.jsx(u,{htmlFor:"birthdate",id:"birthdateLabel",children:"Birthdate"}),e.jsx(_,{type:"date",id:"birthdate",fullWidth:!0,defaultValue:M.birthdate||"",...t("birthdate",{required:{value:!0,message:"Birthdate is required"}})}),i.birthdate&&e.jsxs("p",{id:"errMsg",children:[e.jsx(m,{className:"infoErr"}),(rr=i.birthdate)==null?void 0:rr.message]})]}),e.jsxs(o,{id:"birthplaceGrid",children:[e.jsx(u,{htmlFor:"birthplace",id:"birthplaceLabel",children:"Birthplace"}),e.jsx(E,{name:"birthplace",control:w,defaultValue:M.birthplace||"",rules:{required:"Birthplace is required"},render:({field:r})=>e.jsx(C,{sx:{width:"100%",borderRadius:"8px"},children:e.jsx(_,{type:"text",id:"birthplace",placeholder:"Birthplace",fullWidth:!0,...r})})}),i.birthplace&&e.jsxs("p",{id:"errMsg",children:[e.jsx(m,{className:"infoErr"}),(ar=i.birthplace)==null?void 0:ar.message]})]})]}),e.jsxs(o,{item:!0,xs:4,children:[e.jsxs(o,{id:"civilStatusGrid",children:[e.jsx(u,{htmlFor:"civil_status",id:"civilStatusLabel",children:"Civil Status"}),e.jsx(E,{name:"civil_status",control:w,defaultValue:M.civil_status||"",rules:{required:"Civil Status is required",validate:r=>r!==""||"Please select a civil status"},render:({field:r})=>e.jsx(C,{sx:{width:"100%",borderRadius:"8px"},children:e.jsxs(k,{id:"civil_status",native:!0,...r,value:r.value||"",children:[e.jsx("option",{value:"",disabled:!0,children:"Select Civil Status"}),e.jsx("option",{value:"Single",children:"Single"}),e.jsx("option",{value:"Married",children:"Married"}),e.jsx("option",{value:"Separated",children:"Separated"}),e.jsx("option",{value:"Divorced",children:"Divorced"})]})})}),i.civil_status&&e.jsxs("p",{id:"errMsg",children:[e.jsx(m,{className:"infoErr"}),(sr=i.civil_status)==null?void 0:sr.message]})]}),e.jsxs(o,{id:"schoolYrStartedGrid",children:[e.jsx(u,{htmlFor:"school_yr_started",id:"schoolYrStartedLabel",children:"Year Started"}),e.jsx(_,{type:"text",id:"school_yr_started",placeholder:"School Year Started",fullWidth:!0,autoComplete:"off",defaultValue:M.school_yr_started||"",...t("school_yr_started",{required:{value:!0,message:"School Year Started is required"},pattern:{value:/^(19|20)\d{2}$/,message:"Please enter a valid year (e.g., 2000)"}})}),i.school_yr_started&&e.jsxs("p",{id:"errMsg",children:[e.jsx(m,{className:"infoErr"}),(tr=i.school_yr_started)==null?void 0:tr.message]})]}),e.jsxs(o,{id:"schoolYrGraduatedGrid",children:[e.jsx(u,{htmlFor:"school_yr_graduated",id:"schoolYrGraduatedLabel",children:"Year Graduated"}),e.jsx(_,{type:"text",id:"school_yr_graduated",placeholder:"School Year Graduated",fullWidth:!0,defaultValue:M.school_yr_graduated||"",...t("school_yr_graduated",{required:{value:!0,message:"School Year Graduated is required"},pattern:{value:/^(19|20)\d{2}$/,message:"Please enter a valid year (e.g., 2000)"}})}),i.school_yr_graduated&&e.jsxs("p",{id:"errMsg",children:[e.jsx(m,{className:"infoErr"}),(ir=i.school_yr_graduated)==null?void 0:ir.message]})]}),e.jsxs(o,{id:"programGrid",children:[e.jsx(u,{htmlFor:"program",id:"programLabel",children:"Program"}),e.jsx(_,{type:"text",id:"program",placeholder:"Program",fullWidth:!0,defaultValue:M.program||"",...t("program",{required:{value:!0,message:"Program is required"}})}),i.program&&e.jsxs("p",{id:"errMsg",children:[e.jsx(m,{className:"infoErr"}),(or=i.program)==null?void 0:or.message]})]})]}),e.jsxs(o,{item:!0,xs:4,children:[e.jsxs(o,{id:"homeVisitSchedGrid",children:[e.jsx(u,{htmlFor:"home_visit_sched",id:"homeVisitSchedLabel",children:"Home Visit Schedule"}),e.jsx(_,{type:"date",id:"home_visit_sched",placeholder:"Home Visit Schedule",fullWidth:!0,defaultValue:M.home_visit_sched||"",...t("home_visit_sched",{required:{value:!0,message:"Home Visit Schedule is required"}})}),i.home_visit_sched&&e.jsxs("p",{id:"errMsg",children:[e.jsx(m,{className:"infoErr"}),(nr=i.home_visit_sched)==null?void 0:nr.message]})]}),e.jsxs(o,{id:"fbAccountGrid",children:[e.jsx(u,{htmlFor:"fb_account",id:"fbAccountLabel",children:"Facebook Link"}),e.jsx(_,{type:"text",id:"fb_account",placeholder:"facebook.com/Username",fullWidth:!0,defaultValue:M.fb_account||"",...t("fb_account",{required:{value:!0,message:"Facebook Account is required"},pattern:{value:ne,message:"Please enter a valid FB link (e.g., facebook.com/Username) "}})}),i.fb_account&&e.jsxs("p",{id:"errMsg",children:[e.jsx(m,{className:"infoErr"}),(dr=i.fb_account)==null?void 0:dr.message]})]}),e.jsxs(o,{id:"acadTermsGrid",children:[e.jsx(u,{htmlFor:"acad_terms",id:"acadTermsLabel",children:"School Academic Terms"}),e.jsx(E,{name:"acad_terms",defaultValue:"",control:w,rules:{required:"Academic Term is required",validate:r=>r!==""||"Please select an Academic Term"},render:({field:r})=>e.jsx(C,{sx:{width:"100%",borderRadius:"8px"},children:e.jsxs(k,{id:"acad_terms",native:!0,...r,value:r.value||"",onChange:r.onChange,children:[e.jsx("option",{value:"",disabled:!0,children:"Select Academic Terms"}),e.jsx("option",{value:"2",children:"2 Terms"}),e.jsx("option",{value:"3",children:"3 Terms"})]})})}),i.acad_terms&&e.jsxs("p",{id:"errMsg",children:[e.jsx(m,{className:"infoErr"}),(lr=i.acad_terms)==null?void 0:lr.message]})]})]})]})})},{title:"Address Information",label:"Address Information",content:e.jsx("div",{children:e.jsxs(o,{container:!0,spacing:2,children:[e.jsxs(o,{item:!0,xs:6,children:[e.jsxs(o,{id:"regionGrid",children:[e.jsx(u,{htmlFor:"region_name",id:"regionLabel",children:"Region"}),e.jsx(E,{name:"region_name",control:w,defaultValue:M.region_name||"",rules:{required:"Region is required",validate:r=>r!==""||"Please select a region"},render:({field:r})=>e.jsx(C,{sx:{width:"100%",borderRadius:"8px"},children:e.jsxs(k,{id:"region_name",native:!0,...r,onChange:s=>{Y("province_name",""),Y("cities_municipalities_name",""),Y("barangay_name","");const n=s.target.options[s.target.selectedIndex].dataset.code;fe(n),r.onChange(s)},children:[e.jsx("option",{value:"",children:"Select Region"}),ge.map(s=>e.jsx("option",{value:s.name,"data-code":s.code,children:s.name},s.name))]})})}),i.region_name&&e.jsxs("p",{id:"errMsg",children:[e.jsx(m,{className:"infoErr"}),(cr=i.region_name)==null?void 0:cr.message]})]}),e.jsxs(o,{id:"provinceGrid",children:[e.jsx(u,{htmlFor:"province_name",id:"provinceLabel",children:"Province"}),e.jsx(E,{name:"province_name",control:w,defaultValue:M.province_name||"",rules:{required:j==="130000000"?!1:"Province is required",validate:r=>j==="130000000"||r!==""||"Please select a province"},render:({field:r})=>e.jsx(C,{sx:{width:"100%",borderRadius:"8px"},children:e.jsxs(k,{id:"province_name",native:!0,...r,onChange:s=>{Y("cities_municipalities_name","");const n=s.target.options[s.target.selectedIndex].dataset.code;x(n),r.onChange(s)},children:[e.jsx("option",{value:"",children:"Select Province"}),j==="130000000"?e.jsx("option",{value:"Metro Manila","data-code":"MM",children:"Metro Manila"},"Metro Manila"):_e.map(s=>e.jsx("option",{value:s.name,"data-code":s.code,children:s.name},s.name))]})})}),i.province_name&&e.jsxs("p",{id:"errMsg",children:[e.jsx(m,{className:"infoErr"}),(hr=i.province_name)==null?void 0:hr.message]})]}),e.jsxs(o,{id:"cityGrid",children:[e.jsx(u,{htmlFor:"cities-municipalities_name",id:"cityLabel",children:"City"}),e.jsx(E,{name:"cities_municipalities_name",control:w,defaultValue:M.cities_municipalities_name||"",rules:{required:j==="130000000"?!1:"City is required",validate:r=>j==="130000000"||r!==""||"Please select a city"},render:({field:r})=>e.jsx(C,{sx:{width:"100%",borderRadius:"8px"},children:e.jsxs(k,{id:"cities-municipalities_name",native:!0,...r,onChange:s=>{Y("barangay_name","");const n=s.target.options[s.target.selectedIndex].dataset.code;aa(n),r.onChange(s)},children:[e.jsx("option",{value:"",children:"Select City"}),g.map(s=>e.jsx("option",{value:s.name,"data-code":s.code,children:s.name},s.name))]})})}),i.cities_municipalities_name&&e.jsxs("p",{id:"errMsg",children:[e.jsx(m,{className:"infoErr"}),(mr=i.cities_municipalities_name)==null?void 0:mr.message]})]})]}),e.jsxs(o,{item:!0,xs:6,children:[ga===ja&&e.jsxs(o,{id:"barangayGrid",children:[e.jsx(u,{htmlFor:"barangay_name",id:"barangayLabel",children:"Barangay"}),e.jsx(E,{name:"barangay_name",control:w,defaultValue:M.barangay_name||"",rules:{required:j==="130000000"?!1:"Barangay is required",validate:r=>j==="130000000"||r!==""||"Please select a barangay"},render:({field:r})=>e.jsx(C,{sx:{width:"100%",borderRadius:"8px"},children:e.jsxs(k,{id:"barangay_name",native:!0,...r,children:[e.jsx("option",{value:"",children:"Select Barangay"}),sa.map(s=>e.jsx("option",{value:s.name,children:s.name},s.name))]})})}),i.barangay_name&&e.jsxs("p",{id:"errMsg",children:[e.jsx(m,{className:"infoErr"}),(ur=i.barangay_name)==null?void 0:ur.message]})]}),e.jsxs(o,{id:"streetGrid",children:[e.jsx(u,{htmlFor:"street",id:"streetLabel",children:"House No. & Street"}),e.jsx(_,{type:"text",id:"street",placeholder:"Street",fullWidth:!0,defaultValue:M.street||"",...t("street",{required:{value:!0,message:"Street is required"}})}),i.street&&e.jsxs("p",{id:"errMsg",children:[e.jsx(m,{className:"infoErr"}),(xr=i.street)==null?void 0:xr.message]})]}),e.jsxs(o,{id:"zipCodeGrid",children:[e.jsx(u,{htmlFor:"zip_code",id:"zipCodeLabel",children:"Zip Code"}),e.jsx(E,{name:"zip_code",control:w,defaultValue:M.zip_code||"",autoComplete:"off",rules:{required:"Zip Code is required"},render:({field:r})=>e.jsx(C,{sx:{width:"100%",borderRadius:"8px"},children:e.jsx(_,{type:"text",id:"zip_code",placeholder:"Zip Code",fullWidth:!0,...r})})}),i.zip_code&&e.jsxs("p",{id:"errMsg",children:[e.jsx(m,{className:"infoErr"}),(pr=i.zip_code)==null?void 0:pr.message]})]})]})]})})},{title:"Family Information",label:"Family Information",content:e.jsx("div",{children:e.jsxs(o,{container:!0,spacing:2,children:[e.jsxs(o,{item:!0,xs:4,children:[e.jsxs(o,{id:"fatherNameGrid",children:[e.jsx(u,{htmlFor:"father_name",id:"fatherNameLabel",children:"Father's Name"}),e.jsx(_,{type:"text",id:"father_name",placeholder:"Father Name",fullWidth:!0,defaultValue:z.father_name||"",...t("father_name",{required:{value:!0,message:"Father Name is required"}})}),i.father_name&&e.jsxs("p",{id:"errMsg",children:[e.jsx(m,{className:"infoErr"}),(gr=i.father_name)==null?void 0:gr.message]})]}),e.jsxs(o,{id:"motherNameGrid",children:[e.jsx(u,{htmlFor:"mother_name",id:"motherNameLabel",children:"Mother's Name"}),e.jsx(_,{type:"text",id:"mother_name",placeholder:"Mother Name",autoComplete:"off",fullWidth:!0,defaultValue:z.mother_name||"",...t("mother_name",{required:{value:!0,message:"Mother Name is required"}})}),i.mother_name&&e.jsxs("p",{id:"errMsg",children:[e.jsx(m,{className:"infoErr"}),(jr=i.mother_name)==null?void 0:jr.message]})]}),e.jsxs(o,{id:"numFamMemGrid",children:[e.jsx(u,{htmlFor:"num_fam_mem",id:"numFamMemLabel",children:"Number of Family Members"}),e.jsxs(k,{id:"num_fam_mem",native:!0,defaultValue:M.num_fam_mem||"",...t("num_fam_mem",{required:{value:!0,message:"Number of Family Members is required"}}),children:[e.jsx("option",{value:"",disabled:!0,children:"Select No. of Fam Members"}),Array.from({length:20},(r,s)=>e.jsx("option",{value:s+1,children:s+1},s+1))]}),i.num_fam_mem&&e.jsxs("p",{id:"errMsg",children:[e.jsx(m,{className:"infoErr"}),(fr=i.num_fam_mem)==null?void 0:fr.message]})]})]}),e.jsxs(o,{item:!0,xs:4,children:[e.jsxs(o,{id:"incomeGrid",children:[e.jsx(u,{htmlFor:"income",id:"incomeLabel",children:"Monthly Income"}),e.jsx(E,{name:"income",control:w,defaultValue:z.income||"",rules:{required:"Income is required"},render:({field:r})=>e.jsx(C,{sx:{width:"100%",borderRadius:"8px"},children:e.jsxs(k,{id:"income",native:!0,...r,children:[e.jsx("option",{value:"",children:"Select Income"}),e.jsx("option",{value:"0-10,000",children:"0 - ₱10,000"}),e.jsx("option",{value:"10,001-20,000",children:"₱10,001 - ₱20,000"}),e.jsx("option",{value:"20,001-30,000",children:"₱20,001 - ₱30,000"}),e.jsx("option",{value:"30,001-40,000",children:"₱30,001 - ₱40,000"}),e.jsx("option",{value:"40,001-50,000",children:"₱40,001 - ₱50,000"}),e.jsx("option",{value:"50,001-More",children:"₱50,001 - More"})]})})}),i.income&&e.jsxs("p",{id:"errMsg",children:[e.jsx(m,{className:"infoErr"}),(_r=i.income)==null?void 0:_r.message]})]}),e.jsxs(o,{id:"occupationGrid",children:[e.jsx(u,{htmlFor:"occupation",id:"occupationLabel",children:"Guardian's Occupation"}),e.jsx(E,{name:"occupation",control:w,defaultValue:z.occupation||"",autoComplete:"off",rules:{required:"Occupation is required"},render:({field:r})=>e.jsx(C,{sx:{width:"100%",borderRadius:"8px"},children:e.jsx(_,{type:"text",id:"occupation",placeholder:"Occupation",fullWidth:!0,...r})})}),i.occupation&&e.jsxs("p",{id:"errMsg",children:[e.jsx(m,{className:"infoErr"}),(vr=i.occupation)==null?void 0:vr.message]})]}),e.jsxs(o,{id:"relationToScholarGrid",children:[e.jsx(u,{htmlFor:"relation_to_scholar",id:"relationToScholarLabel",children:"Guardian Relation"}),e.jsx(E,{name:"relation_to_scholar",control:w,defaultValue:z.relation_to_scholar||"",rules:{required:"Relation to scholar is required",validate:r=>r!==""||"Please select a relation to scholar"},render:({field:r})=>e.jsx(C,{sx:{width:"100%",borderRadius:"8px"},children:e.jsxs(k,{id:"relation_to_scholar",native:!0,...r,children:[e.jsx("option",{value:"",children:"Select Relation"}),e.jsx("option",{value:"Father",children:"Father"}),e.jsx("option",{value:"Mother",children:"Mother"}),e.jsx("option",{value:"Guardian",children:"Guardian"})]})})}),i.relation_to_scholar&&e.jsxs("p",{id:"errMsg",children:[e.jsx(m,{className:"infoErr"}),(br=i.relation_to_scholar)==null?void 0:br.message]})]})]}),e.jsxs(o,{item:!0,xs:4,children:[e.jsxs(o,{id:"famMemberNameGrid",children:[e.jsx(u,{htmlFor:"fam_mem_name",id:"famMemberNameLabel",children:"Guardian's Name"}),e.jsx(_,{type:"text",id:"fam_mem_name",placeholder:"Family Member Name",fullWidth:!0,defaultValue:z.fam_mem_name||"",...t("fam_mem_name",{required:{value:!0,message:"Family Member Name is required"}})}),i.fam_mem_name&&e.jsxs("p",{id:"errMsg",children:[e.jsx(m,{className:"infoErr"}),(Sr=i.fam_mem_name)==null?void 0:Sr.message]})]}),e.jsxs(o,{id:"famMemberContactGrid",children:[e.jsx(u,{htmlFor:"fam_mem_contact",id:"famMemberContactLabel",children:"Guardian's Contact Number"}),e.jsx(_,{type:"text",id:"fam_mem_mobile_num",placeholder:"Guardian Contact Number",fullWidth:!0,defaultValue:z.fam_mem_mobile_num||"",...t("fam_mem_mobile_num",{required:{value:!0,message:"Guardian Contact Number is required"}})}),i.fam_mem_mobile_num&&e.jsxs("p",{id:"errMsg",children:[e.jsx(m,{className:"infoErr"}),(yr=i.fam_mem_mobile_num)==null?void 0:yr.message]})]})]})]})})},{title:"High School Information",label:"High School Information",content:e.jsx("div",{children:e.jsxs(o,{container:!0,spacing:6,children:[e.jsxs(o,{item:!0,xs:6,children:[e.jsxs(o,{id:"trackNameGrid",children:[e.jsx(u,{htmlFor:"track_name",id:"trackNameLabel",children:"SHS Track"}),e.jsx(E,{name:"track_name",control:w,defaultValue:X.track_name,rules:{required:"SHS Track is required",validate:r=>r!==""||"Please select a SHS Track"},render:({field:r})=>e.jsx(C,{sx:{width:"100%",borderRadius:"8px"},children:e.jsxs(k,{id:"track_name",native:!0,...r,children:[e.jsx("option",{value:"",children:"Select SHS Track"}),e.jsx("option",{value:"Academic",children:"Academic"}),e.jsx("option",{value:"Technical-Vocational-Livelihood",children:"Technical-Vocational-Livelihood"}),e.jsx("option",{value:"Sports",children:"Sports"}),e.jsx("option",{value:"Arts and Design",children:"Arts and Design"})]})})}),i.track_name&&e.jsxs("p",{id:"errMsg",children:[e.jsx(m,{className:"infoErr"}),(wr=i.track_name)==null?void 0:wr.message]})]}),e.jsxs(o,{id:"strandNameGrid",children:[e.jsx(u,{htmlFor:"strand_name",id:"strandNameLabel",children:"SHS Strand"}),e.jsx(E,{name:"strand_name",control:w,defaultValue:X.strand_name,rules:{required:"SHS Strand is required",validate:r=>r!==""||"Please select a SHS Strand"},render:({field:r})=>e.jsx(C,{sx:{width:"100%",borderRadius:"8px"},children:e.jsxs(k,{id:"strand_name",native:!0,...r,children:[e.jsx("option",{value:"",children:"Select SHS Strand"}),e.jsx("option",{value:"Accountancy, Business and Management (ABM)",children:"Accountancy, Business and Management (ABM)"}),e.jsx("option",{value:"General Academic Strand (GAS)",children:"General Academic Strand (GAS)"}),e.jsx("option",{value:"Humanities and Social Sciences (HUMSS)",children:"Humanities and Social Sciences (HUMSS)"}),e.jsx("option",{value:"Science, Technology, Engineering and Mathematics (STEM)",children:"Science, Technology, Engineering and Mathematics (STEM)"}),e.jsx("option",{value:"Information and Communications Technology",children:"Information and Communications Technology (ICT)"}),e.jsx("option",{value:"Home Economics",children:"Home Economics (HE)"}),e.jsx("option",{value:"Arts and Design",children:"Arts and Design (AD)"}),e.jsx("option",{value:"Sports",children:"Sports (SP)"})]})})}),i.strand_name&&e.jsxs("p",{id:"errMsg",children:[e.jsx(m,{className:"infoErr"}),(Pr=i.strand_name)==null?void 0:Pr.message]})]}),e.jsxs(o,{id:"HSGwaGrid",children:[e.jsx(u,{htmlFor:"gwa_school_yr_graduated",id:"HSGwaLabel",children:"High School GWA"}),e.jsx(_,{type:"text",id:"gwa_school_yr_graduated",placeholder:"High School GWA",fullWidth:!0,defaultValue:X.gwa_school_yr_graduated,inputProps:{inputMode:"numeric",pattern:"[0-9]*"},...t("gwa_school_yr_graduated",{required:{value:!0,message:"High School GWA is required"},pattern:{value:/^[0-9]+$/,message:"Please enter a valid number"}})}),i.hs_gwa&&e.jsxs("p",{id:"errMsg",children:[e.jsx(m,{className:"infoErr"}),(Ar=i.hs_gwa)==null?void 0:Ar.message]})]})]}),e.jsxs(o,{item:!0,xs:6,children:[e.jsxs(o,{id:"HsSchoolNameGrid",children:[e.jsx(u,{htmlFor:"school_name",id:"HsSchoolNameLabel",children:"High School Name"}),e.jsx(_,{type:"text",id:"school_name",placeholder:"High School Name",fullWidth:!0,autoComplete:"off",defaultValue:X.school_name||"",...t("school_name",{required:{value:!0,message:"High School Name is required"}})}),i.school_name&&e.jsxs("p",{id:"errMsg",children:[e.jsx(m,{className:"infoErr"}),(Cr=i.school_name)==null?void 0:Cr.message]})]}),e.jsxs(o,{id:"HsSchoolAddressGrid",children:[e.jsx(u,{htmlFor:"school_address",id:"HsSchoolAddressLabel",children:"High School Address"}),e.jsx(_,{type:"text",id:"school_address",placeholder:"High School Address",fullWidth:!0,defaultValue:X.school_address,...t("school_address",{required:{value:!0,message:"High School Address is required"}})}),i.school_address&&e.jsxs("p",{id:"errMsg",children:[e.jsx(m,{className:"infoErr"}),(Fr=i.school_address)==null?void 0:Fr.message]})]}),e.jsxs(o,{id:"schoolYrGraduatedHsGrid",children:[e.jsx(u,{htmlFor:"school_yr_graduated_hs",id:"schoolYrGraduatedHsLabel",children:"High School Year Graduated"}),e.jsx(_,{type:"text",id:"school_yr_graduated_hs",placeholder:"High School Year Graduated",fullWidth:!0,defaultValue:X.school_yr_graduated_hs,...t("school_yr_graduated_hs",{required:{value:!0,message:"High School Year Graduated is required"}})}),i.school_yr_graduated_hs&&e.jsxs("p",{id:"errMsg",children:[e.jsx(m,{className:"infoErr"}),(Mr=i.school_yr_graduated_hs)==null?void 0:Mr.message]})]})]})]})})},{title:"Undergraduate Information",label:"Undergraduate Information",content:e.jsx("div",{children:e.jsxs(o,{container:!0,spacing:6,children:[e.jsx(o,{item:!0,xs:4,children:e.jsxs(o,{id:"undergradSyGrid",children:[e.jsx(u,{htmlFor:"undergrad_sy",id:"undergradSyLabel",children:"School Year"}),e.jsx(E,{name:"undergrad_sy",control:w,defaultValue:"",rules:{validate:{checkSchoolYear:()=>{const r=h("school_yr_started"),s=h("school_yr_graduated"),n=h("undergrad_sy");return!r||!s?"Please input School Year Started and School Year Graduated first":n?!0:"School Year is required"}}},render:({field:r})=>e.jsx(C,{sx:{width:"100%",borderRadius:"8px"},children:e.jsxs(k,{id:"undergrad_sy",native:!0,...r,value:r.value||"",onChange:r.onChange,disabled:!h("school_yr_started")||!h("school_yr_graduated"),children:[e.jsx("option",{value:"",disabled:!0,children:"Select Current School Year"}),Array.from({length:parseInt(h("school_yr_graduated")||0)-parseInt(h("school_yr_started")||0)+1},(s,n)=>{const c=parseInt(h("school_yr_started")||0)+n,T=c+1;return e.jsx("option",{value:`${c}-${T}`,children:`${c}-${T}`},`${c}-${T}`)})]})})}),i.undergrad_sy&&e.jsxs("p",{id:"errMsg",children:[e.jsx(m,{className:"infoErr"}),(Er=i.undergrad_sy)==null?void 0:Er.message]})]})}),e.jsx(o,{item:!0,xs:4,children:e.jsxs(o,{id:"currentYrLevelGrid",children:[e.jsx(u,{htmlFor:"current_yr_level",id:"currentYrLevelLabel",children:"Current Year Level"}),e.jsx(E,{name:"current_yr_level",control:w,defaultValue:"",rules:{required:"Current Year Level is required",validate:r=>r!==""||"Please select a Current Year Level"},render:({field:r})=>e.jsx(C,{sx:{width:"100%",borderRadius:"8px"},children:e.jsxs(k,{id:"current_yr_level",native:!0,...r,children:[e.jsx("option",{value:"",disabled:!0,children:"Select Current Year Level"}),e.jsx("option",{value:"1st Year",children:"1st Year"}),e.jsx("option",{value:"2nd Year",children:"2nd Year"}),e.jsx("option",{value:"3rd Year",children:"3rd Year"}),e.jsx("option",{value:"4th Year",children:"4th Year"}),e.jsx("option",{value:"5th Year",children:"5th Year"})]})})}),i.current_yr_level&&e.jsxs("p",{id:"errMsg",children:[e.jsx(m,{className:"infoErr"}),(Nr=i.current_yr_level)==null?void 0:Nr.message]})]})}),e.jsx(o,{item:!0,xs:4,children:e.jsxs(o,{id:"undergradGwaGrid",children:[e.jsx(u,{htmlFor:"gwa_current_school_yr",id:"undergradGwaLabel",children:"GWA Current School year"}),e.jsx(_,{type:"text",id:"gwa_current_school_yr",placeholder:"GWA Current School year",fullWidth:!0,defaultValue:"",...t("gwa_current_school_yr",{required:{value:!0,message:"GWA Current School year is required"}})}),i.gwa_current_school_yr&&e.jsxs("p",{id:"errMsg",children:[e.jsx(m,{className:"infoErr"}),(kr=i.gwa_current_school_yr)==null?void 0:kr.message]})]})})]})})}];return e.jsx(ka,{children:e.jsxs(Aa,{theme:Ba,children:[e.jsxs(o,{item:!0,xs:12,md:8,lg:9,children:[$.role_id===1||$.role_id===2?e.jsxs(Me,{style:{marginRight:"8px",color:"black"},onClick:()=>W("/scholar"),children:[e.jsx(Ca,{})," ",e.jsx("p",{children:"Back to Scholar List"})]}):null,e.jsx(l,{mb:4,sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:e.jsx(a,{variant:"h1",sx:{color:"black",fontWeight:"bold"},children:"Profile"})}),e.jsx(l,{mb:4,children:e.jsx(a,{variant:"h5",children:"Manage your personal information, and control which information other people see"})}),e.jsx(l,{children:e.jsx(Fa,{children:"Learn more about our data privacy policy."})}),e.jsx(Ra,{handleOpenProfile:ee,updatePassword:wa,updateScholarProfile:ya}),e.jsx(Ha,{})]}),e.jsxs(Br,{open:ca,onClose:K,fullWidth:!0,maxWidth:"lg",component:"form",method:"post",noValidate:!0,onSubmit:ie(ba),children:[e.jsx(Lr,{id:"dialogTitle",children:re[U].title}),e.jsx(a,{variant:"body2",id:"dialogLabel",children:"Required fields are marked with an asterisk *"}),e.jsx(Ma,{activeStep:U,alternativeLabel:!0,children:re.map(r=>e.jsx(Ea,{children:e.jsx(Na,{children:r.label})},r.title))}),e.jsx(o,{sx:{marginLeft:3},children:e.jsx(y.Suspense,{fallback:"Scholarlink Loading...",children:e.jsx(Ua,{})})}),e.jsxs(Hr,{children:[e.jsx("div",{style:{display:"flex",justifyContent:"space-between"},children:re[U].content}),e.jsxs($r,{sx:{mt:5},children:[e.jsx(te,{onClick:U===0?K:_a,color:"primary",children:U===0?"Cancel":"Back"}),e.jsx(te,{color:"primary",variant:"contained",onClick:fa,style:{display:U===re.length-1?"none":"block"},children:"Next"}),e.jsx(te,{type:"submit",color:"primary",variant:"contained",style:{display:U===re.length-1?"block":"none"},children:"Submit"})]})]})]}),xe&&e.jsxs(Br,{open:xe,onClose:de,fullWidth:!0,maxWidth:"xs",component:"form",method:"post",noValidate:!0,onSubmit:ie(Sa),children:[e.jsx(Lr,{id:"dialogTitle",children:"Change Password"}),e.jsxs(Hr,{children:[e.jsxs(o,{id:"userNameGrid",children:[e.jsx(u,{htmlFor:"password",id:"userNameLabel",children:"New Password"}),e.jsx(_,{type:he?"text":"password",id:"password",placeholder:"Password",fullWidth:!0,InputProps:{endAdornment:e.jsx(Ir,{position:"end",children:e.jsx(Me,{onClick:Oe,edge:"end",children:he?e.jsx(Ur,{sx:{fontSize:"1.2rem"}}):e.jsx(Yr,{sx:{fontSize:"1.2rem"}})})})},...t("password",{required:{value:!0,message:"Password is required"},minLength:{value:8,message:"Password should be at least 8 characters long"}})}),i.password&&e.jsxs("p",{id:"errMsg",children:[e.jsx(m,{className:"infoErr"}),(Gr=i.password)==null?void 0:Gr.message]})]}),e.jsxs(o,{id:"userNameGrid",children:[e.jsx(u,{htmlFor:"confirmPassword",id:"confirmPasswordLabel",children:"Confirm Password"}),e.jsx(_,{type:he?"text":"password",id:"confirmPassword",placeholder:"Confirm password",fullWidth:!0,InputProps:{endAdornment:e.jsx(Ir,{position:"end",children:e.jsx(Me,{onClick:Oe,edge:"end",children:he?e.jsx(Ur,{sx:{fontSize:"1.2rem"}}):e.jsx(Yr,{sx:{fontSize:"1.2rem"}})})})},...t("confirmPassword",{required:{value:!0,message:"Password is required"},minLength:{value:8,message:"Password should be at least 8 characters long"},validate:r=>r===ue||"The passwords do not match"})}),i.confirmPassword&&e.jsxs("p",{id:"errMsg",children:[e.jsx(m,{className:"infoErr"}),(Dr=i.confirmPassword)==null?void 0:Dr.message]})]})]}),e.jsxs($r,{children:[e.jsx(te,{onClick:de,color:"primary",id:"Button",children:"Cancel"}),e.jsx(te,{color:"primary",type:"submit",variant:"contained",id:"addUserBtn",children:F?"Save Changes":""})]})]}),e.jsx(zr,{open:ia,autoHideDuration:5e3,onClose:()=>P(!1),anchorOrigin:{vertical:"top",horizontal:"right"},children:e.jsx(Vr,{onClose:()=>P(!1),variant:"filled",severity:"success",sx:{width:"100%"},children:oa})}),e.jsx(zr,{open:na,autoHideDuration:5e3,onClose:()=>b(!1),anchorOrigin:{vertical:"top",horizontal:"right"},children:e.jsx(Vr,{onClose:()=>b(!1),variant:"filled",severity:"error",sx:{width:"100%"},children:da})}),e.jsx(qa,{control:w})]})})}export{$s as default};
