import{r as f,j as e}from"./react-DyBbpTfo.js";import{T as Rs,i as Le,G as i,B as Ie,a as _,g as n,_ as ks,H as v,J as C,K as w,b as I,M as c,N as y,V as Ts,j as $,W as Ue,t as Es,v as Fs,w as $s,x as Ge,y as S,z as Ds,c as V,X as Ms,O as Ps,Y as Ys,Q as Ls,R as Is,k as A,l as U,d as D,Z as Us,I as Gs,S as Ne,A as We}from"./@mui-BieppYyU.js";import{L as Ns,S as Ws,a as zs,b as Bs}from"./Layout-BTsGQOv-.js";import{t as Os}from"./theme-D40dVDi4.js";import{u as qs}from"./ScholarStore-XlNJjUNf.js";import{u as Vs}from"./UserStore-CIOHG4rb.js";import{u as Hs}from"./LoaderAnimation-CH_DHjss.js";import{D as Xs}from"./@hookform-D0VPTTbZ.js";import{u as Zs,C as N}from"./react-hook-form-BLdPXlwC.js";import{a as ie,u as Js,b as g}from"./index-CLUh4Q3Z.js";import{a as Ks}from"./react-router-Cd-RU2wi.js";import"./@babel-8cBiVioP.js";import"./clsx-B-dksMZM.js";import"./@emotion-C_NMWrO_.js";import"./hoist-non-react-statics-Buxaj0Kl.js";import"./react-is-8JwjhRSi.js";import"./stylis-BqmD5Vow.js";import"./react-transition-group-es_vqKy0.js";import"./react-dom-BKrvlAQh.js";import"./scheduler-CzFDRTuY.js";import"./@react-spring-V1f4ptoc.js";import"./d3-color-9lF95FHy.js";import"./d3-shape-D9lAmgB5.js";import"./d3-path-CimkQT29.js";import"./d3-scale-CFwq3Dxo.js";import"./internmap-BkD7Hj8s.js";import"./d3-array-DJclFi1f.js";import"./d3-format-CzD4bSOQ.js";import"./d3-interpolate-lgBfS8Nc.js";import"./d3-time-format-DZUSPL1N.js";import"./d3-time-Dz5jZYzf.js";import"./@popperjs-BQBsAJpH.js";import"./react-router-dom-CzVCKb4Q.js";import"./@remix-run-B-RBrVrq.js";import"./zustand-BzSMVJrz.js";import"./use-sync-external-store-C98n5-Y-.js";import"./little-state-machine-XjKmDAO7.js";import"./react-simple-animate-C3M8HUGx.js";import"./lodash-BeFwqRsT.js";import"./use-deep-compare-effect-DsItLPwu.js";import"./dequal-tFQomdd2.js";import"./axios-B4uVmeYG.js";const ze={scholarship_categ_id:"",project_partner_id:"",scholar_status_id:"",school_id:""};function ea({state:Qs}){var ke,Te,Ee,Fe,$e,De,Me,Pe;const W=Zs(),{register:ne,control:M,handleSubmit:de,formState:Be,reset:er,watch:Oe,validate:sr}=W,{errors:p}=Be,P=Ks(),{getAuthToken:z,alertOpen:qe,setAlertOpen:d,errorOpen:Ve,setErrorOpen:l,alertMessage:He,setAlertMessage:u,errorMessage:Xe,setErrorMessage:h}=ie(),{scholars:rr,scholar:Ze,setScholars:ar,editScholar:Je,setEditScholar:H,handleOpenScholar:Ke,handleCloseScholar:X,filteredScholar:tr,setFilteredScholar:or,searchQuery:R,handleSearch:Qe,scholarshipCateg:Z,setScholarshipCateg:es,projectPartner:ss,setProjectPartner:rs,school:as,setSchool:ts,modalScholars:os,setModalScholars:lr,handleOpenModalScholars:ls,handleCloseModalScholars:J,deleteModal:is,setDeleteModal:ce,restoreModal:ns,setRestoreModal:he,scholarIdToRestore:ds,setScholarIdToRestore:ue,scholarIdToDelete:pe,setScholarIdToDelete:xe,filterModal:cs,setFilterModal:ir,handleOpenFilterModal:hs,handleCloseFilterModal:me,filteredStatus:nr,setFilteredStatus:dr}=qs(),[K,B]=f.useState([]),{setLoading:m,setLoadingMessage:O}=Hs(),{setAvatarInitial:us,users:cr,setUsers:hr,selectedUser:k,setSelectedUser:q,filteredRole:Q,setFilteredRole:ps}=Vs(),{auth:ee}=Js(),xs=((ke=ee==null?void 0:ee.user)==null?void 0:ke.role_id)||"",[je,T]=f.useState(!1),[t,fe]=f.useState(null),[b,se]=f.useState(null),[j,ms]=f.useState(new Date().getFullYear()),[G,js]=f.useState(new Date().getMonth()),[Y,re]=f.useState([]),[ge,E]=f.useState(!1),[_e,fs]=f.useState("");f.useEffect(()=>{const s=new Date().toLocaleString("ph-PH",{timeZone:"Asia/Manila"});ms(new Date(s).getFullYear()),js(new Date(s).getMonth())},[]);const gs=()=>{fe(null),se(null),re([]),T(!0)},Se=s=>{const r=s.target.value;if(fe(r),se(null),r==="all")re(["all"]);else{let a=[];for(let o=r+1;o<=j&&!(o===j&&G<3);o++)a.push(o);(r<j||r===j&&G>=3)&&a.unshift(r),re(a)}},be=s=>{se(s.target.value)},ve=()=>{m(!0),O("Exporting Scholar Information, please wait..."),t==="all"?(console.log("Exporting data from All School Years"),Ce("all")):t&&b?(console.log(`Exporting data from SY ${t}-${b}`),Ce(t,b)):(console.error("Please select both 'From' and 'To' academic years."),m(!1),l(!0),h("Please select both 'From' and 'To' academic years."))},Ce=(s,r=null)=>{const a=z(),o="/api/export-scholars",oe={params:r?{fromYear:s,toYear:r}:{fromYear:s},responseType:"blob",headers:{Authorization:`Bearer ${a}`}};g.get(o,oe).then(F=>{if(F.status===200){const le=new Blob([F.data],{type:"application/vnd.ms-excel"}),As=URL.createObjectURL(le),L=document.createElement("a");L.href=As;let Ye=`Scholar Information from S.Y ${s}-${parseInt(s)+1}`;r&&r!==s&&(Ye+=` to S.Y ${r}-${parseInt(r)+1}`),L.setAttribute("download",`${Ye}.xlsx`),document.body.appendChild(L),L.click(),L.parentNode.removeChild(L),m(!1),d(!0),u("Export successful!")}}).catch(F=>{console.error("Export error:",F),m(!1),l(!0),h("Export failed. Please try again.")})},we=Array.from({length:(G>=3?j:j-1)-1990},(s,r)=>1990+r),ye=()=>{let s="";t==="all"?s="Scholar Information for all School Years will be exported. Are you sure?":s=`Scholar Information from S.Y ${t}-${parseInt(t)+1} until S.Y ${b}-${parseInt(b)+1} will be exported. Are you sure?`,fs(s),E(!0)},Ae=async(s,r)=>{r.preventDefault();const a=z(),o={headers:{Authorization:`Bearer ${a}`}};try{if(Je){d(!0),u("Updating Scholar..."),m(!0),O("Updating Scholar");let x={scholarship_categ_id:parseInt(s.scholarship_categ_id),project_partner_id:parseInt(s.project_partner_id),scholar_status_id:parseInt(s.scholar_status_id),school_id:parseInt(s.school_id)};if(s.school_id==="other"){const le=await g.post("/api/schools",{school_name:s.school_name,school_type:s.school_type,school_address:s.school_address},o);x.school_id=parseInt(le.data.data.id)}else Array.isArray(s.school_id)&&(x.school_id=parseInt(s.school_id[0]));const oe=await g.put(`/api/scholars-data/${k.id}`,x,o);X(),J(),H(!1),q(null),m(!1),d(!0),u("Scholar Updated");const F=await g.get("/api/userScholars",{headers:{Authorization:`Bearer ${a}`}});F.status===200?(B(F.data.data),d(!1),u("Updated Scholars List")):(l(!0),h("Error updating scholars list"))}W.reset(ze)}catch(x){x.response.status===401?(l(!0),h("Session expired. Please login again."),P("/login")):x.response.status===422&&(l(!0),h("Please fill up all the required fields"))}};f.useEffect(()=>{d(!0),l(!1),u("Please wait updating scholar list"),(async()=>{try{const r=ie.getState().getAuthToken(),a=await g.get("/api/scholarships",{headers:{Authorization:`Bearer ${r}`}});a.status===200?(es(a.data.data),d(!1),u("Updated Scholarship Category")):(l(!0),h("Error updating scholarship category"));const o=await g.get("/api/project-partners",{headers:{Authorization:`Bearer ${r}`}});o.status===200?(rs(o.data.data),d(!1),u("Updated Project Partner")):(l(!0),h("Error updating project partner"));const x=await g.get("/api/schools",{headers:{Authorization:`Bearer ${r}`}});x.status===200?(ts(x.data.data),d(!1),u("Updated School")):(l(!0),h("Error updating school"))}catch(r){(r.response.status===401||r.projectPartnerResponse.status===401||r.schoolResponse.status===401)&&(l(!0),h("Session expired. Please login again."),P("/login"))}})()},[]),f.useEffect(()=>{d(!0),l(!1),u("Please wait updating scholar list"),(async()=>{var r;try{const a=ie.getState().getAuthToken(),o=await g.get("/api/userScholars",{headers:{Authorization:`Bearer ${a}`}});o.status===200?(B(o.data.data),d(!1),u("Updated Scholars List")):(l(!0),h("Error updating scholars list"))}catch(a){((r=a.response)==null?void 0:r.status)===401&&(l(!0),h("Session expired. Please login again."),P("/login"))}})()},[]);const _s=(s,r,a)=>{xe(s),q({first_name:r,last_name:a}),ce(!0)},ae=()=>{xe(null),ce(!1)},Ss=async s=>{if(pe)try{const r=z();m(!0),O("Deleting user"),d(!0),u("Deleting user..."),await g.delete(`/api/userScholars/${pe}`,{headers:{Authorization:`Bearer ${r}`}});const a=await g.get("/api/userScholars",{headers:{Authorization:`Bearer ${r}`}});a.status===200?(B(a.data.data),d(!0),u("Successfully deleted scholar")):(l(!0),h("Error deleting scholar")),d(!0),u("User Deleted"),m(!1)}catch(r){r.response.status===401&&(l(!0),h("Session expired. Please login again."),P("/login")),m(!1)}ae()},bs=s=>{const r=K.find(a=>a.id===s);H(!0),q(r),Ke(),W.reset(r)},vs=s=>{const r=K.find(a=>a.id===s);if(r){const{role_id:a,first_name:o,last_name:x}=r;q(r),us(`${o.charAt(0).toUpperCase()}${x.charAt(0).toUpperCase()}`),P(a===3?"/scholar-profile":"/*")}else l(!0),h("Scholar not found");console.log(s)},Cs=async s=>{m(!0),O("Restoring user"),d(!0),u("Restoring user...");try{const r=z();(await g.get(`/api/restoreUser/${s}`,{headers:{Authorization:`Bearer ${r}`}})).status===200?(d(!0),u("User restored")):(l(!0),h("Failed to restore user"));const o=await g.get("/api/userScholars",{headers:{Authorization:`Bearer ${r}`}});o.status===200?(B(o.data.data),d(!0),u("Scholar list has been updated")):(l(!0),h("Failed to fetch data")),m(!1)}catch(r){r.response.status===401&&(l(!0),h("Session expired. Please login again."),P("/login")),m(!1)}},ws=s=>{ue(s),he(!0)},te=()=>{ue(null),he(!1)},ys=()=>{W.reset(ze),H(!1),X()},Re=s=>{switch(s){case 1:return"New";case 2:return"For_Renewal";case 3:return"For_Renewal_Graduating";case 4:return"Renewed";case 5:return"Graduating";case 6:return"Graduated";case 7:return"Alumni";case 8:return"Drop";case 9:return"Leave";default:return""}};return e.jsx(Ns,{children:e.jsx(Rs,{theme:Os,children:e.jsxs(Le,{maxWidth:"lg",sx:{mt:4,mb:4},children:[e.jsxs(i,{container:!0,spacing:3,children:[e.jsx(i,{item:!0,xs:12,mb:4,children:e.jsxs(Ie,{display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"left",md:"center"},margin:2,justifyContent:"space-between",children:[e.jsx(_,{variant:"h1",id:"tabsTitle",sx:{color:"black"},children:"Scholars"}),e.jsxs(Ie,{children:[e.jsxs(n,{variant:"contained",id:"exportDataButton",onClick:gs,children:[e.jsx(ks,{sx:{mr:1}}),e.jsx(_,{variant:"body2",children:"Export Data"})]}),e.jsxs(v,{open:je,onClose:()=>T(!1),fullWidth:!0,maxWidth:"sm",children:[e.jsx(C,{id:"dialogTitle",children:"Export Scholar Information"}),e.jsx(_,{variant:"body2",id:"dialogLabel",children:"Please select the range of school years for which you would like to export."}),e.jsxs(w,{children:[e.jsxs(i,{container:!0,spacing:2,sx:{mb:4},children:[e.jsx(i,{item:!0,xs:12,sm:6,children:e.jsxs(I,{select:!0,label:"From *",value:t,onChange:Se,fullWidth:!0,children:[e.jsx(c,{value:"all",children:"All School Years"}),we.map(s=>e.jsxs(c,{value:s,children:["S.Y ",s,"-",s+1]},s))]})}),e.jsx(i,{item:!0,xs:12,sm:6,children:e.jsxs(I,{select:!0,label:"To *",value:b,onChange:be,disabled:!t||Y.length===0||t==="all",fullWidth:!0,children:[t&&Y.includes(t)&&e.jsx(c,{value:t,children:"From the selected School Year only"},"selectedYear"),Y.filter(s=>!(s===j||s===j+1)&&!(s===j-1&&G<4)).map(s=>e.jsxs(c,{value:s,children:["S.Y ",s,"-",s+1]},s))]})})]}),e.jsxs(y,{children:[e.jsx(n,{onClick:()=>T(!1),children:"Cancel"}),e.jsx(n,{onClick:ye,variant:"contained",disabled:!t||!b&&t!=="all",children:"Export"})]})]})]}),e.jsxs(v,{open:ge,onClose:()=>E(!1),children:[e.jsx(C,{id:"dialogTitle",mt:2,children:"Confirm Export"}),e.jsx(w,{children:e.jsx(_,{variant:"h5",ml:1,sx:{color:"#44546F"},children:_e})}),e.jsxs(y,{children:[e.jsx(n,{onClick:()=>E(!1),color:"primary",children:"Cancel"}),e.jsx(n,{onClick:()=>{ve(),E(!1),T(!1)},color:"primary",variant:"contained",type:"submit",sx:{backgroundColor:"#0C66E4",borderRadius:"5px",mb:2,mt:2},children:"Yes, Export now"})]})]})]})]})}),e.jsxs(i,{sx:{borderRadius:"8px",boxShadow:"0 4px 8px rgba(0,0,0,0.1)",overflow:"auto",overflowX:"hidden",width:"100%"},children:[e.jsxs(Le,{sx:{mt:4,mb:8,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(Ws,{children:[e.jsx(zs,{children:e.jsx(Ts,{})}),e.jsx(Bs,{placeholder:"Search for names, groups, or email addresses",inputProps:{"aria-label":"search"},value:R,onChange:Qe})]}),e.jsx(i,{children:e.jsx($,{sx:{minWidth:120,mr:2},children:e.jsx(n,{variant:"outlined",onClick:hs,startIcon:e.jsx(Ue,{}),children:"Add Filter"})})})]}),e.jsxs(Es,{sx:{backgroundColor:"#fbf3f2",margin:"2rem 0 0 1rem"},children:[e.jsxs(Fs,{children:[e.jsx($s,{children:e.jsxs(Ge,{children:[e.jsx(S,{sx:{fontWeight:"bold",fontSize:"1rem"},children:"Name"}),e.jsx(S,{sx:{fontWeight:"bold",fontSize:"1rem"},children:"Email"}),e.jsx(S,{sx:{fontWeight:"bold",fontSize:"1rem"},children:"Scholarship Category"}),e.jsx(S,{sx:{fontWeight:"bold",fontSize:"1rem"},children:"Scholar Status"}),e.jsx(S,{sx:{fontWeight:"bold",fontSize:"1rem"},children:"Action"})]})}),e.jsx(Ds,{children:K.filter(s=>Q==="All"?!0:Re(s.scholar_status_id[0])===Q).filter(s=>s.email_address&&s.email_address.toLowerCase().includes(R==null?void 0:R.toLowerCase())||`${s.first_name} ${s.middle_name} ${s.last_name}`.toLowerCase().includes(R==null?void 0:R.toLowerCase())).sort((s,r)=>s.scholar_status_id[0]===8&&r.scholar_status_id[0]!==8?-1:s.scholar_status_id[0]!==8&&r.scholar_status_id[0]===8?1:new Date(r.created_at)-new Date(s.created_at)).reverse().map((s,r)=>s.role_id===3?e.jsxs(Ge,{className:"scholar",children:[e.jsx(S,{sx:{border:"none"},className:"scholarName",children:`${s.first_name} ${s.middle_name||""} ${s.last_name}`}),e.jsx(S,{sx:{border:"none"},className:"scholarEmail",children:s.email_address}),e.jsx(S,{sx:{border:"none"},className:"scholarCatergory",children:s.scholarship_categ_id.map(a=>{var o;return e.jsx("div",{children:((o=Z.find(x=>x.id===a))==null?void 0:o.scholarship_categ_name)||"Unknown Category"},a)})}),e.jsx(S,{sx:{border:"none"},children:e.jsx("span",{className:`scholarStatus ${Re(s.scholar_status_id[0])}`,children:s.scholar_status_id[0]===1?"New":s.scholar_status_id[0]===2?"For Renewal":s.scholar_status_id[0]===3?"For Renewal: Graduating":s.scholar_status_id[0]===4?"Renewed":s.scholar_status_id[0]===5?"Renewed: Graduating":s.scholar_status_id[0]===6?"Graduated":s.scholar_status_id[0]===7?"Alumni":s.scholar_status_id[0]===8?"Drop":s.scholar_status_id[0]===9?"Leave/Extended":""})}),e.jsxs(S,{sx:{border:"none",color:"#2684ff"},children:[e.jsx(V,{color:"inherit",onClick:()=>vs(s.id),children:e.jsx(Ms,{sx:{transform:"rotate(90deg)"}})}),e.jsx(V,{color:"inherit",onClick:()=>bs(s.id),children:e.jsx(Ps,{})}),s.deleted_at!==null&&xs===1?e.jsx(V,{variant:"contained",sx:{borderRadius:"10px",borderColor:"primary.main",textTransform:"capitalize"},onClick:()=>ws(s.id),children:e.jsx(Ys,{})}):e.jsx(V,{type:"button",color:"error",onClick:a=>_s(s.id,s.first_name,s.last_name),sx:{textTransform:"capitalize"},children:e.jsx(Ls,{})})]})]},r):null)})]}),e.jsx(Is,{sx:{width:"100%"}})]})]}),e.jsxs(v,{open:Ze,onClose:X,fullWidth:!0,maxWidth:"xs",component:"form",onSubmit:de(Ae),method:"post",noValidate:!0,children:[e.jsx(C,{variant:"h3",sx:{fontWeight:"bold"},children:"Update Scholar"}),e.jsx(_,{variant:"body2",id:"dialogLabel",children:"Required fields are marked with an asterisk *"}),e.jsxs(w,{children:[e.jsxs(i,{id:"scholarshipCategGrid",children:[e.jsx(A,{htmlFor:"scholarship_categ_id",id:"scholarshipCategLabel",children:"Scholarship Type"}),e.jsx(N,{name:"scholarship_categ_id",control:M,defaultValue:Z.id,rules:{required:"Scholarship Type is required",validate:s=>s!==""||"Please select a scholarship type"},render:({field:s})=>e.jsx($,{sx:{width:"100%",borderRadius:"8px"},children:e.jsxs(U,{id:"scholarship_categ_id",native:!0,...s,value:s.value||"",children:[e.jsx("option",{value:"",disabled:!0,children:"Select Scholarship Category"}),Z.map(r=>e.jsx("option",{value:r.id,children:r.scholarship_categ_name},r.id))]})})}),p.scholarship_categ_id&&e.jsxs("p",{id:"errMsg",children:[e.jsx(D,{className:"infoErr"}),(Te=p.scholarship_categ_id)==null?void 0:Te.message]})]}),e.jsxs(i,{id:"projectPartnerGrid",children:[e.jsx(A,{htmlFor:"project_partner_id",id:"projectPartnerLabel",children:"Project Partner"}),e.jsx(N,{name:"project_partner_id",control:M,defaultValue:null,rules:{required:"Status is required",validate:s=>s!==""||"Please select a status"},render:({field:s})=>e.jsx($,{sx:{width:"100%",borderRadius:"8px"},children:e.jsxs(U,{id:"project_partner_id",native:!0,...s,children:[e.jsx("option",{value:"",disabled:!0,children:"Select Project Partner"}),ss.map(r=>e.jsx("option",{value:r.id,children:r.project_partner_name},r.id))]})})}),p.project_partner_id&&e.jsxs("p",{id:"errMsg",children:[e.jsx(D,{className:"infoErr"}),(Ee=p.project_partner_id)==null?void 0:Ee.message]})]}),e.jsxs(i,{id:"schoolGrid",children:[e.jsx(A,{htmlFor:"school_id",id:"schoolLabel",children:"School"}),e.jsx(N,{name:"school_id",control:M,defaultValue:null,rules:{required:"School is required",validate:s=>s!==""||"Please select a school"},render:({field:s})=>e.jsx($,{sx:{width:"100%",borderRadius:"8px"},children:e.jsxs(U,{native:!0,...s,id:"school_id",sx:{mb:2},children:[e.jsx("option",{value:"",disabled:!0,children:"Select School"}),as.map(r=>e.jsx("option",{value:r.id,children:r.school_name},r.id)),e.jsx("option",{value:"other",children:"Other"})]})})}),p.school_id&&e.jsxs("p",{id:"errMsg",children:[" ",e.jsx(D,{className:"infoErr"}),(Fe=p.school_id)==null?void 0:Fe.message]})]}),Oe("school_id")==="other"&&e.jsxs(e.Fragment,{children:[e.jsxs(i,{id:"addSchoolGrid",children:[e.jsx(A,{htmlFor:"school_name",id:"addSchoolLabel",children:"Add School"}),e.jsx(I,{id:"school_name",type:"text",...ne("school_name",{required:"School is required"}),sx:{width:"100%",borderRadius:"8px",mb:2}}),p.school_name&&e.jsxs("p",{id:"errMsg",children:[" ",e.jsx(D,{className:"infoErr"}),($e=p.school_name)==null?void 0:$e.message]})]}),e.jsxs(i,{id:"schoolTypeGrid",children:[e.jsx(A,{htmlFor:"school_type",id:"schoolTypeLabel",children:"School Type"}),e.jsx(N,{name:"school_type",control:M,defaultValue:null,rules:{required:"School Type is required",validate:s=>s!==""||"Please select a school type"},render:({field:s})=>e.jsx($,{sx:{width:"100%",borderRadius:"8px",mb:2},children:e.jsxs(U,{native:!0,...s,id:"school_type",children:[e.jsx("option",{value:"",disabled:!0,children:"Select School Type"}),e.jsx("option",{value:"Private",children:"Private"}),e.jsx("option",{value:"Public",children:"Public"})]})})}),p.school_type&&e.jsxs("p",{id:"errMsg",children:[" ",e.jsx(D,{className:"infoErr"}),(De=p.school_type)==null?void 0:De.message]})]}),e.jsxs(i,{id:"schoolAddressGrid",children:[e.jsx(A,{htmlFor:"school_address",id:"schoolAddressLabel",children:"School Address"}),e.jsx(I,{id:"school_address",type:"text",...ne("school_address",{required:"School Address is required"}),sx:{width:"100%",borderRadius:"8px",mb:2}}),p.school_address&&e.jsxs("p",{id:"errMsg",children:[" ",e.jsx(D,{className:"infoErr"}),(Me=p.school_address)==null?void 0:Me.message]})]})]}),e.jsxs(i,{id:"scholarStatusGrid",children:[e.jsx(A,{htmlFor:"scholar_status_id",id:"scholarStatusLabel",children:"Scholar Status"}),e.jsx(N,{name:"scholar_status_id",control:M,defaultValue:null,rules:{required:"Scholar Status is required",validate:s=>s!==""||"Please select a scholar status"},render:({field:s})=>e.jsx($,{sx:{width:"100%",borderRadius:"8px"},children:e.jsxs(U,{id:"scholar_status_id",native:!0,...s,sx:{mb:2},children:[e.jsx("option",{value:"",disabled:!0,children:"Select Scholar Status"}),e.jsx("option",{value:"1",children:"New Scholar"}),e.jsx("option",{value:"2",children:"For Renewal"}),e.jsx("option",{value:"3",children:"For Renewal: Graduating"}),e.jsx("option",{value:"4",children:"Renewed"}),e.jsx("option",{value:"5",children:"Graduating"}),e.jsx("option",{value:"6",children:"Graduated"}),e.jsx("option",{value:"7",children:"Alumni"}),e.jsx("option",{value:"8",children:"Withdrew"})]})})}),p.scholar_status_id&&e.jsxs("p",{id:"errMsg",children:[" ",e.jsx(D,{className:"infoErr"}),(Pe=p.scholar_status_id)==null?void 0:Pe.message]})]})]}),e.jsxs(y,{children:[e.jsx(n,{onClick:ys,color:"primary",children:"Cancel"}),e.jsx(n,{variant:"contained",color:"primary",onClick:ls,children:"Save Changes"})]})]}),e.jsxs(v,{open:os,onClose:J,children:[e.jsx(C,{id:"dialogTitle",mt:2,children:"Heads Up!"}),e.jsx(w,{children:e.jsx(_,{variant:"h5",ml:1,sx:{color:"#44546F"},children:"You're about to make some changes to a scholar's information. Everything look good?"})}),e.jsxs(y,{children:[e.jsx(n,{onClick:J,color:"primary",children:"Cancel"}),e.jsx(n,{onClick:de(Ae),type:"submit",color:"primary",variant:"contained",sx:{backgroundColor:"#0C66E4",borderRadius:"5px",mb:2,mt:2},children:"Save Changes"})]})]}),e.jsxs(v,{open:is,onClose:ae,children:[e.jsxs(C,{id:"dialogTitle",mt:2,children:[e.jsx(Us,{sx:{color:"#CA3521",fontSize:"1.2rem"}}),"Deleting"," ",k?`${k.first_name} ${k.last_name}`:""]}),e.jsx(w,{children:e.jsxs(_,{variant:"h5",ml:1,sx:{color:"#44546F"},children:["Heads up! This will permanently delete's"," ",e.jsxs("b",{children:[k?`${k.first_name} ${k.last_name}`:""," "]})," ","account. Are you sure you want to proceed?"]})}),e.jsxs(y,{children:[e.jsx(n,{onClick:ae,color:"primary",children:"Cancel"}),e.jsx(n,{onClick:Ss,color:"primary",variant:"contained",sx:{backgroundColor:"#CA3521",borderRadius:"5px",mb:2,mt:2,"&:hover":{backgroundColor:"#CA3521"}},children:"Yes, Delete Scholar"})]})]}),e.jsxs(v,{open:ns,onClose:te,children:[e.jsx(C,{id:"dialogTitle",mt:2,children:"Heads Up!"}),e.jsx(w,{children:e.jsx(_,{variant:"h5",ml:1,sx:{color:"#44546F"},children:"You're about to restore a user's account. Are you sure you want to proceed?"})}),e.jsxs(y,{children:[e.jsx(n,{onClick:te,color:"primary",children:"Cancel"}),e.jsx(n,{onClick:()=>{Cs(ds),te()},color:"primary",variant:"contained",sx:{borderRadius:"5px",mb:2,mt:2,backgroundColor:"#43a047","&:hover":{backgroundColor:"#43a047"}},children:"Yes, Restore User"})]})]}),e.jsxs(v,{open:cs,onClose:me,children:[e.jsx(C,{id:"dialogFilter",children:"Filter Users"}),e.jsx(w,{dividers:!0,children:e.jsx(i,{container:!0,spacing:2,children:e.jsx(i,{item:!0,xs:12,sm:12,children:e.jsxs($,{fullWidth:!0,sx:{minWidth:120},children:[e.jsx(A,{id:"role-filter-label",children:"Scholar Status Filter"}),e.jsxs(U,{labelId:"role-filter-label",value:Q,onChange:s=>ps(s.target.value),displayEmpty:!0,label:"Scholar Status",startAdornment:e.jsx(Gs,{position:"start",children:e.jsx(Ue,{viewBox:"0 0 24 24",sx:{width:20,height:20,color:"rgba(0, 0, 0, 0.54)"}})}),sx:{borderRadius:"12px"},children:[e.jsx(c,{value:"All",children:"All"}),e.jsx(c,{value:"New",children:"New"}),e.jsx(c,{value:"For_Renewal",children:"For_Renewal"}),e.jsx(c,{value:"For_Renewal_Graduating",children:"For_Renewal_Graduating"}),e.jsx(c,{value:"Renewed",children:"Renewed"}),e.jsx(c,{value:"Renewed: Graduating",children:"Renewed: Graduating"}),e.jsx(c,{value:"Graduated",children:"Graduated"}),e.jsx(c,{value:"Alumni",children:"Alumni"}),e.jsx(c,{value:"Drop",children:"Drop"}),e.jsx(c,{value:"Leave",children:"Leave/Extended"})]})]})})})}),e.jsx(y,{children:e.jsx(n,{onClick:me,children:"Apply"})})]})]}),e.jsxs(v,{open:je,onClose:()=>T(!1),fullWidth:!0,maxWidth:"sm",children:[e.jsx(C,{id:"dialogTitle",children:"Export Scholar Information"}),e.jsx(_,{variant:"body2",id:"dialogLabel",children:"Please select the range of school years for which you would like to export."}),e.jsxs(w,{children:[e.jsxs(i,{container:!0,spacing:2,sx:{mb:4},children:[e.jsx(i,{item:!0,xs:12,sm:6,children:e.jsxs(I,{select:!0,label:"From *",value:t,onChange:Se,fullWidth:!0,children:[e.jsx(c,{value:"all",children:"All School Years"}),we.map(s=>e.jsxs(c,{value:s,children:["S.Y ",s,"-",s+1]},s))]})}),e.jsx(i,{item:!0,xs:12,sm:6,children:e.jsxs(I,{select:!0,label:"To *",value:b,onChange:be,disabled:!t||Y.length===0||t==="all",fullWidth:!0,children:[t&&Y.includes(t)&&e.jsx(c,{value:t,children:"From the selected School Year only"},"selectedYear"),Y.filter(s=>!(s===j||s===j+1)&&!(s===j-1&&G<4)).map(s=>e.jsxs(c,{value:s,children:["S.Y ",s,"-",s+1]},s))]})})]}),e.jsxs(y,{children:[e.jsx(n,{onClick:()=>T(!1),children:"Cancel"}),e.jsx(n,{onClick:ye,variant:"contained",disabled:!t||!b&&t!=="all",children:"Export"})]})]})]}),e.jsxs(v,{open:ge,onClose:()=>E(!1),children:[e.jsx(C,{id:"dialogTitle",mt:2,children:"Confirm Export"}),e.jsx(w,{children:e.jsx(_,{variant:"h5",ml:1,sx:{color:"#44546F"},children:_e})}),e.jsxs(y,{children:[e.jsx(n,{onClick:()=>E(!1),color:"primary",children:"Cancel"}),e.jsx(n,{onClick:()=>{ve(),E(!1),T(!1)},color:"primary",variant:"contained",type:"submit",sx:{backgroundColor:"#0C66E4",borderRadius:"5px",mb:2,mt:2},children:"Yes, Export"})]})]}),e.jsx(Ne,{open:qe,autoHideDuration:5e3,onClose:()=>d(!1),anchorOrigin:{vertical:"top",horizontal:"right"},children:e.jsx(We,{onClose:()=>d(!1),variant:"filled",severity:"success",sx:{width:"100%"},children:He})}),e.jsx(Ne,{open:Ve,autoHideDuration:5e3,onClose:()=>l(!1),anchorOrigin:{vertical:"top",horizontal:"right"},children:e.jsx(We,{onClose:()=>l(!1),variant:"filled",severity:"error",sx:{width:"100%"},children:Xe})}),e.jsx(Xs,{control:M})]})})})}export{ea as default};
