import{r,j as s}from"./react-DyBbpTfo.js";import{ak as F,al as X,am as Y,an as j,ao as z,ap as H,aq as I,ar as v,as as f,at as p,q as Z,au as b,av as D,aw as B,ax as E,ay as ss,r as es,az as l,B as a,aA as u,aB as G,o as W,p as ns,a as R,c as k,aC as ts,aD as os,aE as is,L as as,M as rs,aF as cs,u as ls,T as N,aG as ds,g as xs,aH as ps,aI as us,aJ as P,aK as U,i as hs,G as gs}from"./@mui-BieppYyU.js";import{u as ms,L as js}from"./LoaderAnimation-CH_DHjss.js";import{u as _,a as C,b as fs}from"./index-CLUh4Q3Z.js";import{a as J}from"./react-router-Cd-RU2wi.js";import{L as q}from"./react-router-dom-CzVCKb4Q.js";import{u as bs}from"./UserStore-CIOHG4rb.js";import{t as Ss}from"./theme-D40dVDi4.js";const O=240,K="#fbf3f2",ws=F(X,{shouldForwardProp:e=>e!=="open"})(({theme:e,open:n})=>({zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),backgroundColor:K,color:"inherit",borderRadius:"10px",...n&&{marginLeft:O,width:`calc(100% - ${O}px)`,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})}})),ys=F(Y,{shouldForwardProp:e=>e!=="open"})(({theme:e,open:n})=>({"& .MuiDrawer-paper":{position:"relative",whiteSpace:"nowrap",width:O,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),boxSizing:"border-box",...!n&&{overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7),[e.breakpoints.up("sm")]:{width:e.spacing(9)}},backgroundColor:K,boxShadow:"39px 24px 15px -19px rgba(0,0,0,0.1)",borderRadius:"12px"},"& .MuiListSubheader-root":{display:n?"block":"none"}})),qs=j("div")(({theme:e})=>({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:z(e.palette.common.white,.15),"&:hover":{backgroundColor:z(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%",[e.breakpoints.up("sm")]:{marginLeft:e.spacing(3),width:"auto",color:"#032539"},[e.breakpoints.up("xs")]:{marginLeft:"10px"}}));j("div")(({theme:e})=>({padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}));j(H)(({theme:e})=>({color:"inherit","& .MuiInputBase-input":{padding:e.spacing(1,1,1,0),paddingLeft:`calc(1em + ${e.spacing(4)})`,transition:e.transitions.create("width"),width:"100%",[e.breakpoints.up("md")]:{width:"20ch"},color:"#032539",border:"2px solid #032539",borderRadius:"12px","&::placeholder":{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}}));const Ks=j("div")(({theme:e})=>({padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",right:0})),Vs=j(H)(({theme:e})=>({color:"inherit","& .MuiInputBase-input":{padding:e.spacing(1,1,1,0),paddingLeft:`calc(1em + ${e.spacing(0)})`,transition:e.transitions.create("width"),[e.breakpoints.up("md")]:{width:"50ch"},color:"#032539",border:"2px solid rgba(0,0,0,0.2)",boxShadow:"11px 7px 15px -3px rgba(0,0,0,0.1)",borderRadius:"8px"}})),Ls={paddingLeft:"16px"},x=({to:e,icon:n,secondary:t,imageSrc:o,alt:c})=>s.jsxs(f,{component:q,to:e,sx:{...Ls},children:[s.jsx(p,{children:n}),o?s.jsx(p,{children:s.jsx(a,{component:"img",sx:{height:40,width:60,marginLeft:"-20px"},alt:c,src:o})}):null,s.jsx(b,{secondary:t,sx:{fontSize:"12px !important"}})]}),V=()=>{const[e,n]=r.useState(!1),t=()=>{n(!e)};return s.jsxs(I,{children:[s.jsx(v,{disablePadding:!0,sx:{display:"block"},onClick:t,children:s.jsxs(f,{sx:{minHeight:48,justifyContent:open?"initial":"center",px:2},children:[s.jsx(p,{sx:{minWidth:0,mr:open?4:"auto",justifyContent:"center"},children:s.jsx(Z,{})}),s.jsx(b,{secondary:"Scholarships",sx:{opacity:open?1:0}}),e?s.jsx(D,{}):s.jsx(B,{})]})}),s.jsxs(E,{in:e,unmountOnExit:!0,children:[s.jsx(x,{to:"/categories",icon:s.jsx(ss,{}),secondary:"Categories"}),s.jsx(x,{to:"/partner",icon:s.jsx(es,{}),secondary:"Partners "})]})]})},Cs=()=>{const[e,n]=r.useState(!1),t=()=>{n(!e)};return s.jsxs(I,{children:[s.jsx(v,{disablePadding:!0,sx:{display:"block"},onClick:t,children:s.jsxs(f,{sx:{minHeight:48,justifyContent:open?"initial":"center",px:2},children:[s.jsx(p,{sx:{minWidth:0,mr:open?4:"auto",justifyContent:"center"},children:s.jsx(l,{})}),s.jsx(b,{secondary:"Submissions",sx:{opacity:open?1:0}}),e?s.jsx(D,{}):s.jsx(B,{})]})}),s.jsxs(E,{in:e,unmountOnExit:!0,children:[s.jsx(x,{to:"/submission-renewal",icon:s.jsx(l,{}),secondary:"Renewal Submission"}),s.jsx(x,{to:"/submission-graduating",icon:s.jsx(l,{}),secondary:"Graduating Submission"}),s.jsx(x,{to:"/submission-alumni",icon:s.jsx(l,{}),secondary:"Alumni Submission"})]})]})},Q=()=>{const[e,n]=r.useState(!1),t=()=>{n(!e)};return s.jsxs(I,{children:[s.jsx(v,{disablePadding:!0,sx:{display:"block"},onClick:t,children:s.jsxs(f,{sx:{minHeight:48,justifyContent:open?"initial":"center",px:2},children:[s.jsx(p,{sx:{minWidth:0,mr:open?4:"auto",justifyContent:"center"},children:s.jsx(l,{})}),s.jsx(b,{secondary:"Submissions",sx:{opacity:open?1:0}}),e?s.jsx(D,{}):s.jsx(B,{})]})}),s.jsxs(E,{in:e,unmountOnExit:!0,children:[s.jsx(x,{to:"/submitted-renewal",icon:s.jsx(l,{}),secondary:"Renewal Submission"}),s.jsx(x,{to:"/submitted-graduating",icon:s.jsx(l,{}),secondary:"Graduating Submission"}),s.jsx(x,{to:"/submitted-alumni",icon:s.jsx(l,{}),secondary:"Alumni Submission"})]})]})},ks={paddingLeft:"16px"},h={paddingLeft:"12px",backgroundColor:"#fbf3f2"},g={"@media (max-width: 600px)":{display:"none"}},d=({to:e,icon:n,secondary:t,imageSrc:o,alt:c})=>s.jsxs(f,{component:q,to:e,sx:{...ks},children:[s.jsx(p,{children:n}),o?s.jsx(p,{children:s.jsx(a,{component:"img",sx:{height:40,width:60,marginLeft:"-20px"},alt:c,src:o})}):null,s.jsx(b,{secondary:t,sx:{fontSize:"12px !important"}})]}),Is=s.jsxs(r.Fragment,{children:[s.jsx(u,{component:"div",inset:!0,sx:{...h,...g},children:"Main"}),s.jsx(d,{to:"/",icon:s.jsx(G,{}),secondary:"Dashboard"}),s.jsx(u,{component:"div",inset:!0,sx:{...h,...g},children:"Management"}),s.jsx(d,{to:"/scholar",icon:s.jsx(W,{}),secondary:"Scholar"}),s.jsx(V,{}),s.jsx(Q,{}),s.jsx(u,{component:"div",inset:!0,sx:{...h,...g},children:"Reports"}),s.jsx(d,{to:"/gneerate-report",icon:s.jsx(a,{component:"img",sx:{height:40,width:60,marginLeft:"-20px"},alt:"The house from the offer.",src:"https://raw.githubusercontent.com/TianMeds/image--stocks-for-coding/main/AI%20LOGO.png"}),secondary:"Generate Report"})]}),vs=s.jsxs(r.Fragment,{children:[s.jsx(u,{component:"div",inset:!0,sx:{...h,...g},children:"Main"}),s.jsx(d,{to:"/",icon:s.jsx(G,{}),secondary:"Dashboard"}),s.jsx(u,{component:"div",inset:!0,sx:{...h,...g},children:"Management"}),s.jsx(d,{to:"/user",icon:s.jsx(ns,{}),secondary:"Users"}),s.jsx(d,{to:"/scholar",icon:s.jsx(W,{}),secondary:"Scholar"}),s.jsx(V,{}),s.jsx(Q,{}),s.jsx(u,{component:"div",inset:!0,sx:{...h,...g},children:"Reports"}),s.jsx(d,{to:"/generate-report",icon:s.jsx(a,{component:"img",sx:{height:40,width:60,marginLeft:"-20px"},alt:"The house from the offer.",src:"https://raw.githubusercontent.com/TianMeds/image--stocks-for-coding/main/AI%20LOGO.png"}),secondary:"Generate Report"})]}),_s=s.jsxs(r.Fragment,{children:[s.jsx(u,{component:"div",inset:!0,sx:{...h,...g},children:"Main"}),s.jsx(d,{to:"/scholar-dashboard",icon:s.jsx(G,{}),secondary:"Dashboard"}),s.jsx(Cs,{})]}),Ts="/api/logout",As=()=>{var o;const{auth:e}=_(),n=((o=e==null?void 0:e.user)==null?void 0:o.role_id)||"";let t;return n===1?t="Scholar Administrator Portal":n===2?t="Scholar Manager Portal":n===3?t="Scholar Portal":t="Portal",s.jsx(R,{variant:"body1",sx:{fontWeight:"bold"},children:t})},Ms=({link:e})=>{const n=()=>{window.open(e,"_blank")};return s.jsx(k,{color:"inherit",onClick:n,children:s.jsx(ts,{})})},$s=()=>{const[e,n]=r.useState(null),{auth:t,setAuth:o}=_(),c=J(),{loading:T,setLoading:S,expirationTime:A,setLoadingMessage:M}=ms();C();const $=i=>{n(i.currentTarget)},m=()=>{n(null)},w=async()=>{S(!0),M("Logging out");try{const L={headers:{Authorization:`Bearer ${C.getState().getAuthToken()}`}},Es=await fs.post(Ts,null,L);C.getState().resetAuthToken(),S(!1),o(null)}catch(i){S(!1),i.response.status===401&&(C.getState().resetAuthToken(),o(null),c("/login"))}},y=async()=>{if(A){const i=Date.now(),L=parseInt(A,10)+1800*1e3;i>L&&w()}};return r.useEffect(()=>{const i=setInterval(()=>{y()},18e5);return()=>clearInterval(i)},[]),s.jsxs(s.Fragment,{children:[s.jsx(k,{color:"inherit",onClick:$,children:s.jsx(os,{})}),s.jsx(is,{anchorEl:e,open:!!e,onClose:m,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:s.jsx(as,{to:"/login",onClick:w,sx:{textDecoration:"none",fontSize:"12px",color:"black"},children:s.jsxs(rs,{children:[s.jsx(cs,{fontSize:"small",sx:{mr:1}}),"Logout"]})})})]})},Ps=()=>s.jsx(a,{component:"img",src:"https://raw.githubusercontent.com/TianMeds/image--stocks-for-coding/main/GJJSP-SIS.png",alt:"Scholarlink Portal",sx:{height:"100px",width:"120px",marginRight:"30px"}}),Rs=()=>{const e=ls("(max-width:600px)"),{auth:n}=_(),t=n.roles_name||"",{selectedUser:o,setSelectedUser:c,user:T,users:S,avatarInitial:A,setAvatarInitial:M}=bs(),$=J(),{role_id:m,first_name:w,last_name:y}=n.user,i=()=>{c(n.user),$(m===1||m===2?"/profile":m===3?"/scholar-profile":"/*"),M(`${w.charAt(0).toUpperCase()}${y.charAt(0).toUpperCase()}`)};return s.jsx(N,{theme:Ss,children:s.jsxs(v,{sx:{fontSize:e?"1.5rem":"2rem",marginTop:e?"2rem":"1rem",marginBottom:-3},children:[s.jsx(p,{children:s.jsx(ds,{sx:{fontSize:e?"2rem":"3rem",mt:-4,ml:-1}})}),s.jsxs(a,{children:[s.jsx(R,{variant:"h5",color:"textSecondary",children:y}),s.jsx(R,{variant:"body2",color:"textSecondary",children:t}),s.jsx(xs,{variant:"text",sx:{mt:-3,ml:-1},onClick:i,children:"See Profile"})]})]})})},Os=()=>{var o;const{auth:e}=_(),n=((o=e==null?void 0:e.user)==null?void 0:o.role_id)||"";let t;return n===1?t=vs:n===2?t=Is:n===3?t=_s:t=null,s.jsx(I,{component:"nav",children:t})},Ds=ps(),Bs=({children:e})=>{const[n,t]=r.useState(!0),o=()=>{t(!n)};return s.jsx(N,{theme:Ds,children:s.jsxs(a,{sx:{display:"flex"},children:[s.jsx(us,{}),s.jsx(ws,{position:"absolute",open:n,children:s.jsxs(P,{sx:{pr:"24px"},children:[s.jsx(k,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:o,sx:{marginRight:"36px",...n&&{display:"none"}},children:s.jsx(U,{})}),s.jsx(As,{}),s.jsx(a,{sx:{flexGrow:1}}),s.jsxs(a,{sx:{display:"flex",alignItems:"center"},children:[s.jsx(Ms,{link:"https://asiapacificcollege-my.sharepoint.com/:w:/r/personal/mcagbanlog_student_apc_edu_ph/Documents/Documents/APC/S.Y%202023-2024/Term%202/MCSPROJ/Finals/TO%20UPLOAD%20IN%20TEAMS/DONE/User%20Manual/SCHOLARLINK%20Scholar%20Guide.docx?d=weba937fef5d64eefb2256d846fd7e004&csf=1&web=1&e=yjr361"}),s.jsx($s,{})]})]})}),s.jsxs(ys,{variant:"permanent",open:n,children:[s.jsxs(P,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",px:[1]},children:[s.jsx(Ps,{}),s.jsx(k,{onClick:o,children:s.jsx(U,{})})]}),s.jsx(Rs,{}),s.jsx(Os,{})]}),s.jsxs(a,{component:"main",sx:{backgroundColor:T=>T.palette.mode==="light"?"#fbf3f2":"#032539",flexGrow:1,height:"100vh",overflow:"auto"},children:[s.jsx(P,{}),s.jsx(js,{}),s.jsx(hs,{maxWidth:"lg",height:"100%",sx:{mt:4,mb:4},children:s.jsx(gs,{container:!0,spacing:3,children:e})})]})]})})},Qs=Bs;export{Qs as L,qs as S,Ks as a,Vs as b};
