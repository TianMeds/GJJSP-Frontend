import{r as V}from"./react-DyBbpTfo.js";var E={};Object.defineProperty(E,"__esModule",{value:!0});var Y=V;function Z(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(n){if(n!=="default"){var u=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,u.get?u:{enumerable:!0,get:function(){return e[n]}})}}),t.default=e,Object.freeze(t)}var r=Z(Y);const h=.3,O="linear",F="normal",G="none",k="running",B="paused",K="all";var q=({duration:e=h,delay:t=0,overlay:n=0})=>e+t-n||0,D=e=>e===void 0;function x(e,t,n){return D(t)&&D(e)?n||0:e&&e>=0?e:t||0}const I=r.createContext({animationStates:{},register:()=>{}});function H({play:e,sequences:t=[],children:n}){const[u,l]=r.useState({}),f=r.useRef({}),o=r.useCallback(a=>{const{sequenceIndex:s,sequenceId:d}=a;(!D(d)||!D(s))&&(f.current[x(s,d)]=a)},[]);return r.useEffect(()=>{const a=Array.isArray(t)&&t.length?t:Object.values(f.current),s={};(e?a:[...a].reverse()).reduce((d,{sequenceId:y,sequenceIndex:v,duration:$=h,delay:c,overlay:i},m)=>{const g=x(v,y,m),A=q({duration:$,delay:c,overlay:i})+d;return s[g]={play:e,pause:!e,delay:(c||0)+d,controlled:!0},A},0),l(s)},[e]),r.createElement(I.Provider,{value:{animationStates:u,register:o}},n)}var W=e=>(e||0)*1e3;function J(e){const{play:t,children:n,render:u,start:l,end:f,complete:o="",onComplete:a,delay:s=0,duration:d=h,easeType:y=O,sequenceId:v,sequenceIndex:$}=e,c=r.useRef(),[i,m]=r.useState(l||{}),{register:g,animationStates:T={}}=r.useContext(I),A=x($,v);return r.useEffect(()=>{(!D($)&&$>=0||v)&&g(e)},[]),r.useEffect(()=>{const p=T[A]||{};return m({...t||p.play?f:l,transition:`${K} ${d}s ${y} ${p.delay||s}s`}),t&&(o||a)&&(c.current=setTimeout(()=>{o&&m(o),a&&a()},W((p.delay||s)+d))),()=>c.current&&clearTimeout(c.current)},[A,T,t,d,y,s,a,l,f,o]),u?u({style:i}):r.createElement("div",{style:i},n)}var Q=e=>e?e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`):"";const X=e=>{const t=e.length;return e.reduce((n,u,l)=>{const f=parseFloat((100/(t-1)).toFixed(2))*l;if(typeof u=="string")return`${n} ${f}% {${u}}`;const o=Object.keys(u);if(o.length&&isNaN(+o[0])){const a=o.reduce((s,d)=>`${s} ${Q(d)}: ${u[d]};`,"");return`${n} ${f}% {${a}}`}return`${n} ${o[0]}% {${u[o[0]]}}`},"")};function ee({keyframes:e,animationName:t}){return`@keyframes ${t} {${X(e)}}`}function w({keyframes:e,animationName:t}){var n,u,l,f;let o=document.querySelector("style[data-id=rsi]");o||(o=document.createElement("style"),o.setAttribute("data-id","rsi"),document.head.appendChild(o));const a=(l=(u=(n=o.sheet)===null||n===void 0?void 0:n.cssRules)===null||u===void 0?void 0:u.length)!==null&&l!==void 0?l:0;try{(f=o.sheet)===null||f===void 0||f.insertRule(ee({keyframes:e,animationName:t}),a)}catch(s){console.error("react simple animate, error found during insert style ",s)}return{styleTag:o,index:a}}var N=(e,t)=>{if(!e)return;const n=Object.values(e.cssRules).findIndex(({name:u})=>u===t);n>=0&&e.deleteRule(n)},b=()=>`RSI-${Math.random().toString(36).substr(2,9)}`,z=e=>e?B:k;function te(e){const{children:t,play:n=!1,pause:u=!1,render:l,duration:f=h,delay:o=0,easeType:a=O,direction:s=F,fillMode:d=G,iterationCount:y=1,sequenceIndex:v,keyframes:$,sequenceId:c}=e;let i;const m=r.useRef({forward:"",reverse:""}),g=r.useRef(!1),T=r.useRef({forward:null,reverse:null}),A=x(v,c),{register:p,animationStates:S={}}=r.useContext(I),R=S[A]||{},[,M]=r.useState(!1);r.useEffect(()=>{const j=T.current,L=m.current;m.current.forward=b();let _=w({animationName:m.current.forward,keyframes:$});return T.current.forward=_.styleTag,m.current.reverse=b(),_=w({animationName:m.current.reverse,keyframes:$.reverse()}),T.current.reverse=_.styleTag,p(e),n&&M(!0),()=>{var C,U;N((C=j.forward)===null||C===void 0?void 0:C.sheet,L.forward),N((U=j.reverse)===null||U===void 0?void 0:U.sheet,L.reverse)}},[]),R.controlled&&!g.current?(i=R.pause,R.pause||(g.current=!0)):i=u;const P={animation:`${f}s ${a} ${R.delay||o}s ${y} ${s} ${d} ${z(i)} ${((R.controlled?R.play:n)?m.current.forward:m.current.reverse)||""}`};return l?l({style:P}):r.createElement("div",{style:P||{}},t)}function re(e){const{start:t,end:n,complete:u,onComplete:l,delay:f=0,duration:o=h,easeType:a=O}=e,s=r.useMemo(()=>`${K} ${o}s ${a} ${f}s`,[o,a,f]),[d,y]=r.useState({isPlaying:!1,style:{...t,transition:s}}),{isPlaying:v,style:$}=d,c=r.useRef();return r.useEffect(()=>((l||u)&&v&&(c.current=setTimeout(()=>{l&&l(),u&&y(i=>({...i,style:u}))},W(f+o))),()=>c.current&&clearTimeout(c.current)),[d,u,f,o,v,l]),{isPlaying:v,style:$,play:r.useCallback(i=>{y(m=>({...m,style:{...i?n:t,transition:s},isPlaying:i}))},[n,t,s])}}function ne(e){const{duration:t=h,delay:n=0,easeType:u=O,direction:l=F,fillMode:f=G,iterationCount:o=1,keyframes:a}=e,s=r.useRef({forward:"",reverse:""}),d=r.useRef({forward:null,reverse:null}),{register:y}=r.useContext(I),[v,$]=r.useState(null),[c,i]=r.useState(!1);return r.useEffect(()=>{const g=d.current,T=s.current;s.current.forward=b();let A=w({animationName:s.current.forward,keyframes:a});return d.current.forward=A.styleTag,s.current.reverse=b(),A=w({animationName:s.current.reverse,keyframes:a.reverse()}),d.current.reverse=A.styleTag,y(e),()=>{var p,S;N((p=g.forward)===null||p===void 0?void 0:p.sheet,T.forward),N((S=g.reverse)===null||S===void 0?void 0:S.sheet,T.reverse)}},[]),{style:{animation:`${t}s ${u} ${n}s ${o} ${l} ${f} ${z(c)} ${v===null?"":v?s.current.forward:s.current.reverse}`},play:$,pause:i,isPlaying:!!v}}function ae(e){return Array.from({length:e},()=>null)}function se(e){const{sequences:t=[]}=e,n=ae(t.length).map((y,v)=>e.sequences[v].start),[u,l]=r.useState(n),[f,o]=r.useState(!1),a=r.useRef([]),s=r.useRef([]);r.useEffect(()=>{t.forEach(({keyframes:$},c)=>{if(!Array.isArray($))return;a.current[c]||(a.current[c]={},s.current[c]={}),a.current[c].forward=b();let i=w({animationName:a.current[c].forward,keyframes:$});s.current[c].forward=i.styleTag,a.current[c].reverse=b(),i=w({animationName:a.current[c].reverse,keyframes:$.reverse()}),s.current[c].reverse=i.styleTag});const y=s.current,v=a.current;return()=>Object.values(v).forEach(({forward:$,reverse:c},i)=>{var m,g;N((m=y[i].forward)===null||m===void 0?void 0:m.sheet,$),N((g=y[i].reverse)===null||g===void 0?void 0:g.sheet,c)})},[]);const d=r.useCallback(y=>{let v=0;const $=y?a.current:[...a.current].reverse(),c=(y?t:[...t].reverse()).map((i,m)=>{const{duration:g=h,delay:T=0,overlay:A,keyframes:p,iterationCount:S=1,easeType:R=O,direction:M=F,fillMode:P=G,end:j={},start:L={}}=i,_=m===0?T:v,C=`${K} ${g}s ${R} ${_}s`;return v=q({duration:g,delay:T,overlay:A})+v,p?{animation:`${g}s ${R} ${_}s ${S} ${M} ${P} ${k} ${y?$[m].forward:$[m].reverse}`}:{...y?j:L,transition:C}});l(y?c:[...c].reverse()),o(y)},[]);return{styles:u,play:d,isPlaying:f}}var ue=E.Animate=J;E.AnimateGroup=H;E.AnimateKeyframes=te;E.useAnimate=re;E.useAnimateGroup=se;E.useAnimateKeyframes=ne;export{ue as A};
