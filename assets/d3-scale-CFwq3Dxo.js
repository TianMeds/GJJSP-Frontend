import{I as S}from"./internmap-BkD7Hj8s.js";import{r as K,b as Q,t as V,a as I,c as X}from"./d3-array-DJclFi1f.js";import{f as E,p as Z,a as _,b as nn,c as tn,d as Y}from"./d3-format-CzD4bSOQ.js";import{i as rn,a as en,b as un}from"./d3-interpolate-lgBfS8Nc.js";import{t as an,u as on}from"./d3-time-format-DZUSPL1N.js";import{s as j,t as cn,a as ln,b as fn,c as sn,d as mn,e as gn,f as hn,g as pn,u as dn,h as Mn,i as yn,j as vn,k as kn,l as wn,m as bn,n as In}from"./d3-time-Dz5jZYzf.js";function w(n,r){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(r).domain(n);break}return this}const x=Symbol("implicit");function H(){var n=new S,r=[],i=[],t=x;function u(a){let o=n.get(a);if(o===void 0){if(t!==x)return t;n.set(a,o=r.push(a)-1)}return i[o%i.length]}return u.domain=function(a){if(!arguments.length)return r.slice();r=[],n=new S;for(const o of a)n.has(o)||n.set(o,r.push(o)-1);return u},u.range=function(a){return arguments.length?(i=Array.from(a),u):i.slice()},u.unknown=function(a){return arguments.length?(t=a,u):t},u.copy=function(){return H(r,i).unknown(t)},w.apply(u,arguments),u}function L(){var n=H().unknown(void 0),r=n.domain,i=n.range,t=0,u=1,a,o,l=!1,s=0,c=0,f=.5;delete n.unknown;function g(){var e=r().length,p=u<t,h=p?u:t,d=p?t:u;a=(d-h)/Math.max(1,e-s+c*2),l&&(a=Math.floor(a)),h+=(d-h-a*(e-s))*f,o=a*(1-s),l&&(h=Math.round(h),o=Math.round(o));var k=K(e).map(function(M){return h+a*M});return i(p?k.reverse():k)}return n.domain=function(e){return arguments.length?(r(e),g()):r()},n.range=function(e){return arguments.length?([t,u]=e,t=+t,u=+u,g()):[t,u]},n.rangeRound=function(e){return[t,u]=e,t=+t,u=+u,l=!0,g()},n.bandwidth=function(){return o},n.step=function(){return a},n.round=function(e){return arguments.length?(l=!!e,g()):l},n.padding=function(e){return arguments.length?(s=Math.min(1,c=+e),g()):s},n.paddingInner=function(e){return arguments.length?(s=Math.min(1,e),g()):s},n.paddingOuter=function(e){return arguments.length?(c=+e,g()):c},n.align=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),g()):f},n.copy=function(){return L(r(),[t,u]).round(l).paddingInner(s).paddingOuter(c).align(f)},w.apply(g(),arguments)}function P(n){var r=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return P(r())},n}function Qn(){return P(L.apply(null,arguments).paddingInner(1))}function Nn(n){return function(){return n}}function Dn(n){return+n}var A=[0,1];function v(n){return n}function N(n,r){return(r-=n=+n)?function(i){return(i-n)/r}:Nn(isNaN(r)?NaN:.5)}function Fn(n,r){var i;return n>r&&(i=n,n=r,r=i),function(t){return Math.max(n,Math.min(r,t))}}function Sn(n,r,i){var t=n[0],u=n[1],a=r[0],o=r[1];return u<t?(t=N(u,t),a=i(o,a)):(t=N(t,u),a=i(a,o)),function(l){return a(t(l))}}function xn(n,r,i){var t=Math.min(n.length,r.length)-1,u=new Array(t),a=new Array(t),o=-1;for(n[t]<n[0]&&(n=n.slice().reverse(),r=r.slice().reverse());++o<t;)u[o]=N(n[o],n[o+1]),a[o]=i(r[o],r[o+1]);return function(l){var s=Q(n,l,1,t)-1;return a[s](u[s](l))}}function b(n,r){return r.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function D(){var n=A,r=A,i=en,t,u,a,o=v,l,s,c;function f(){var e=Math.min(n.length,r.length);return o!==v&&(o=Fn(n[0],n[e-1])),l=e>2?xn:Sn,s=c=null,g}function g(e){return e==null||isNaN(e=+e)?a:(s||(s=l(n.map(t),r,i)))(t(o(e)))}return g.invert=function(e){return o(u((c||(c=l(r,n.map(t),rn)))(e)))},g.domain=function(e){return arguments.length?(n=Array.from(e,Dn),f()):n.slice()},g.range=function(e){return arguments.length?(r=Array.from(e),f()):r.slice()},g.rangeRound=function(e){return r=Array.from(e),i=un,f()},g.clamp=function(e){return arguments.length?(o=e?!0:v,f()):o!==v},g.interpolate=function(e){return arguments.length?(i=e,f()):i},g.unknown=function(e){return arguments.length?(a=e,g):a},function(e,p){return t=e,u=p,f()}}function z(){return D()(v,v)}function An(n,r,i,t){var u=V(n,r,i),a;switch(t=E(t??",f"),t.type){case"s":{var o=Math.max(Math.abs(n),Math.abs(r));return t.precision==null&&!isNaN(a=nn(u,o))&&(t.precision=a),tn(t,o)}case"":case"e":case"g":case"p":case"r":{t.precision==null&&!isNaN(a=_(u,Math.max(Math.abs(n),Math.abs(r))))&&(t.precision=a-(t.type==="e"));break}case"f":case"%":{t.precision==null&&!isNaN(a=Z(u))&&(t.precision=a-(t.type==="%")*2);break}}return Y(t)}function C(n){var r=n.domain;return n.ticks=function(i){var t=r();return I(t[0],t[t.length-1],i??10)},n.tickFormat=function(i,t){var u=r();return An(u[0],u[u.length-1],i??10,t)},n.nice=function(i){i==null&&(i=10);var t=r(),u=0,a=t.length-1,o=t[u],l=t[a],s,c,f=10;for(l<o&&(c=o,o=l,l=c,c=u,u=a,a=c);f-- >0;){if(c=X(o,l,i),c===s)return t[u]=o,t[a]=l,r(t);if(c>0)o=Math.floor(o/c)*c,l=Math.ceil(l/c)*c;else if(c<0)o=Math.ceil(o*c)/c,l=Math.floor(l*c)/c;else break;s=c}return n},n}function Rn(){var n=z();return n.copy=function(){return b(n,Rn())},w.apply(n,arguments),C(n)}function U(n,r){n=n.slice();var i=0,t=n.length-1,u=n[i],a=n[t],o;return a<u&&(o=i,i=t,t=o,o=u,u=a,a=o),n[i]=r.floor(u),n[t]=r.ceil(a),n}function R(n){return Math.log(n)}function T(n){return Math.exp(n)}function Tn(n){return-Math.log(-n)}function qn(n){return-Math.exp(-n)}function On(n){return isFinite(n)?+("1e"+n):n<0?0:n}function En(n){return n===10?On:n===Math.E?Math.exp:r=>Math.pow(n,r)}function Yn(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),r=>Math.log(r)/n)}function q(n){return(r,i)=>-n(-r,i)}function jn(n){const r=n(R,T),i=r.domain;let t=10,u,a;function o(){return u=Yn(t),a=En(t),i()[0]<0?(u=q(u),a=q(a),n(Tn,qn)):n(R,T),r}return r.base=function(l){return arguments.length?(t=+l,o()):t},r.domain=function(l){return arguments.length?(i(l),o()):i()},r.ticks=l=>{const s=i();let c=s[0],f=s[s.length-1];const g=f<c;g&&([c,f]=[f,c]);let e=u(c),p=u(f),h,d;const k=l==null?10:+l;let M=[];if(!(t%1)&&p-e<k){if(e=Math.floor(e),p=Math.ceil(p),c>0){for(;e<=p;++e)for(h=1;h<t;++h)if(d=e<0?h/a(-e):h*a(e),!(d<c)){if(d>f)break;M.push(d)}}else for(;e<=p;++e)for(h=t-1;h>=1;--h)if(d=e>0?h/a(-e):h*a(e),!(d<c)){if(d>f)break;M.push(d)}M.length*2<k&&(M=I(c,f,k))}else M=I(e,p,Math.min(p-e,k)).map(a);return g?M.reverse():M},r.tickFormat=(l,s)=>{if(l==null&&(l=10),s==null&&(s=t===10?"s":","),typeof s!="function"&&(!(t%1)&&(s=E(s)).precision==null&&(s.trim=!0),s=Y(s)),l===1/0)return s;const c=Math.max(1,t*l/r.ticks().length);return f=>{let g=f/a(Math.round(u(f)));return g*t<t-.5&&(g*=t),g<=c?s(f):""}},r.nice=()=>i(U(i(),{floor:l=>a(Math.floor(u(l))),ceil:l=>a(Math.ceil(u(l)))})),r}function Hn(){const n=jn(D()).domain([1,10]);return n.copy=()=>b(n,Hn()).base(n.base()),w.apply(n,arguments),n}function O(n){return function(r){return r<0?-Math.pow(-r,n):Math.pow(r,n)}}function Ln(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function Pn(n){return n<0?-n*n:n*n}function zn(n){var r=n(v,v),i=1;function t(){return i===1?n(v,v):i===.5?n(Ln,Pn):n(O(i),O(1/i))}return r.exponent=function(u){return arguments.length?(i=+u,t()):i},C(r)}function $(){var n=zn(D());return n.copy=function(){return b(n,$()).exponent(n.exponent())},w.apply(n,arguments),n}function Vn(){return $.apply(null,arguments).exponent(.5)}function Cn(n){return new Date(n)}function Un(n){return n instanceof Date?+n:+new Date(+n)}function F(n,r,i,t,u,a,o,l,s,c){var f=z(),g=f.invert,e=f.domain,p=c(".%L"),h=c(":%S"),d=c("%I:%M"),k=c("%I %p"),M=c("%a %d"),B=c("%b %d"),W=c("%B"),G=c("%Y");function J(m){return(s(m)<m?p:l(m)<m?h:o(m)<m?d:a(m)<m?k:t(m)<m?u(m)<m?M:B:i(m)<m?W:G)(m)}return f.invert=function(m){return new Date(g(m))},f.domain=function(m){return arguments.length?e(Array.from(m,Un)):e().map(Cn)},f.ticks=function(m){var y=e();return n(y[0],y[y.length-1],m??10)},f.tickFormat=function(m,y){return y==null?J:c(y)},f.nice=function(m){var y=e();return(!m||typeof m.range!="function")&&(m=r(y[0],y[y.length-1],m??10)),m?e(U(y,m)):f},f.copy=function(){return b(f,F(n,r,i,t,u,a,o,l,s,c))},f}function Xn(){return w.apply(F(pn,hn,gn,mn,sn,fn,ln,cn,j,an).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Zn(){return w.apply(F(In,bn,wn,kn,vn,yn,Mn,dn,j,on).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}export{Hn as a,L as b,Qn as c,Rn as l,$ as p,Vn as s,Xn as t,Zn as u};
